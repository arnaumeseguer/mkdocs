<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Sprint 4 | Monitorització, connexió remota i llicenciament - Projecte Arnau</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Gestionar un equip en diferent xarxa (amb Team Viewer)", url: "#_top", children: [
          ]},
          {title: "Conclusi\u00f3", url: "#conclusio", children: [
          ]},
          {title: "Logs del sistema i aplicacions", url: "#logs-del-sistema-i-aplicacions", children: [
          ]},
          {title: "Proves amb logs", url: "#proves-amb-logs", children: [
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script>
      <script src="../../search/main.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav">
      <a href="../../Sprint3/Sprint3/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../Sprint3/Sprint3/" class="btn btn-xs btn-link">
        Sprint 3 | Gestió de Dominis i Accessos
      </a>
    </div>
    
  </div>

    

    <h2 id="gestionar-un-equip-en-diferent-xarxa-amb-team-viewer">Gestionar un equip en diferent xarxa (amb Team Viewer)<a class="headerlink" href="#gestionar-un-equip-en-diferent-xarxa-amb-team-viewer" title="Permanent link">&para;</a></h2>
<p>El primer pas serà descarregar Team viewer desde la seva <a href="https://www.teamviewer.com/es/download/free-download-with-license-options/?utm_source=google&amp;utm_medium=cpc&amp;utm_campaign=es%7Cb%7Cpr%7C22%7Csep%7Ctv-core-brand-only-exact-sn%7Cnew%7Ct0%7C0&amp;utm_content=Exact&amp;utm_term=teamviewer">pàgina oficial</a>.</p>
<p><img alt="image.png" src="../image.png" /></p>
<p><img alt="image.png" src="../image%201.png" /></p>
<p><img alt="image.png" src="../image%202.png" /></p>
<p><img alt="image.png" src="../image%203.png" /></p>
<p>Quan haguem acceptat totes les condicions, arribarem a la pàgina principal.</p>
<p><em>Nota: és necessari que els dos equips tinguin TeamViewer per utilitzar el servei.</em></p>
<p><img alt="TVeditada.png" src="../TVeditada.png" /></p>
<p>Abans de procedir, haurem de crear i verificar un compte (o utilitzar-ne un del que disposem) per motius de seguretat de l’aplicació.</p>
<p><img alt="image.png" src="../image%204.png" /></p>
<p>Ara només necessitem repetir el procés amb l’equip al que volem conectar-nos. Un cop situats tots dos en la pàgina principal, introduirem l’ID de <strong>l’equip que volem controlar remotament</strong> al recuadre “Insert partner ID” de <strong>l’equip que volem usar per controlar-lo</strong>.</p>
<p><img alt="image.png" src="../53d9ca16-88cb-4767-80aa-153dd62a6a4f.png" /></p>
<p>Per últim ens demanarà la contrasenya per de <strong>l’equip al que ens volem conectar.</strong> </p>
<p><em>Nota: en l’imatge de la pantalla principal, és el camp tapat en negre. Sempre està al descobert així que s’ha d’anar amb cura.</em></p>
<p><img alt="image.png" src="../image%205.png" /></p>
<p>Ara ja ens hem conectat a la <strong>maquina virtual</strong> amb la <strong>màquina principal i la podem controlar des de qualsevol lloc.</strong></p>
<p><img alt="image.png" src="../image%206.png" /></p>
<h2 id="conclusio">Conclusió<a class="headerlink" href="#conclusio" title="Permanent link">&para;</a></h2>
<p>Això, en escència, permet controlar equips de forma remota a qualsevol distància. Les aplicacions son molt diverses, tant per ús personal amb algun amic/familiar com per ús professional amb algun empleat o company de feina.</p>
<p>Tot i així pot esdevenir una eina molt perillosa si es filtren les credencials, així que s’ha de tenir compte i evitar donar-les a qualsevol que les demani.</p>
<hr />
<h2 id="logs-del-sistema-i-aplicacions">Logs del sistema i aplicacions<a class="headerlink" href="#logs-del-sistema-i-aplicacions" title="Permanent link">&para;</a></h2>
<p>Per monitoritzar un sistema ubuntu sutilitzen uns fitxers anomenats “logs”, hi ha propis del OS i hi ha apps que tenen els seus propis, nosaltres establirem interpretacions de logs per fer proves amb aquests.</p>
<p>Quan parlem de logs hi ha diversos tipus, segons l’aplicació, servei… en aquesta pràctica veurem com modificar les interpretacions del sistema aconseguint així diverses “interaccions” entre els diferents logs.</p>
<p>Aquesta és la jerarquia que segueixen els logs segons el nivell d’alerta.</p>
<table>
<thead>
<tr>
<th><strong>0</strong></th>
<th><strong>Emergency</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1</strong></td>
<td><strong>Alert</strong></td>
</tr>
<tr>
<td><strong>2</strong></td>
<td><strong>Critical</strong></td>
</tr>
<tr>
<td><strong>3</strong></td>
<td><strong>Error</strong></td>
</tr>
<tr>
<td><strong>4</strong></td>
<td><strong>Warning</strong></td>
</tr>
<tr>
<td><strong>5</strong></td>
<td><strong>Notice</strong></td>
</tr>
<tr>
<td><strong>6</strong></td>
<td><strong>Informational</strong></td>
</tr>
<tr>
<td><strong>7</strong></td>
<td><strong>Debug</strong></td>
</tr>
</tbody>
</table>
<p>A la ruta <code>/var/log</code> es mostren tots els logs que es generen automàticament pel sistema i algunes instal·lacions. Tot i així cal destacar que no tenen per que estar situats aquí i poden haver-hi més en altres directoris del sistema.</p>
<p><img alt="image.png" src="../7ad2a846-736c-43c8-a1c4-6b5685c55116.png" /></p>
<p>En el fitxer <code>/etc/rsyslog.d/50-defaul.conf</code> podem modificar les interpretacions per tal de decidir quins logs es mostren (o no) al seu fitxer assignat corresponent. </p>
<p><img alt="Captura de pantalla de 2025-03-11 12-44-50.png" src="../Captura_de_pantalla_de_2025-03-11_12-44-50.png" /></p>
<p><strong><em>Important: Si modifiquem el fixter, hem de reiniciar tabmé el servei dels logs amb <code>systemctl restart rsyslog</code> . Si no, els canvis no s’aplicaran fins que reiniciem el sistema, cosa que pot portar problemes i confusió. Rebrem un avís, però és normal podem ignorar-lo.</em></strong></p>
<p><img alt="image.png" src="../image%207.png" /></p>
<hr />
<h2 id="proves-amb-logs">Proves amb logs<a class="headerlink" href="#proves-amb-logs" title="Permanent link">&para;</a></h2>
<p>En la pròxima imatge veurem com fem un <code>logger -p auth.info "logger fictici"</code>.  Aquesta comanda serveix per generar una entrada inventada amb les característiques especificades, en aquest cas de tipus auth.info. </p>
<p>Amb això podem comprovar si la interpretació que hem especificat serveix per mostrar o amagar els logs en qüestió, cosa que comprovarem després al fitxer on aquesta interpretació estigui especificada.</p>
<p>La terminal de baix mostra TOTS els logs, amb l’objectiu de verificar que no hi ha hagut cap error i que el log ha funcionat correctament independentment de la prova que vulguem fer.</p>
<p><img alt="image.png" src="../image%208.png" /></p>
<p>De moment no hem especficicat cap interpretació. Per defecte, el log que hem creat hauria d’aparèixer al fitxer <code>/var/log/auth.log</code> , podem comprovar-ho amb un <code>tail -1 auth.log</code>.</p>
<p><img alt="image.png" src="../image%209.png" /></p>
<p>Ara establirem una interpretació al mateix fitxer per tal que només llegeixi logs de nivell 2 cap a dalt (Nivell alerta entre 2 i 0 inclosos).</p>
<p>Per fer-ho, hem modificat la linia superior de la imatge, que fa referència a les interpretacions del fitxer <code>auth.log</code>.</p>
<p><em>Abans:</em></p>
<p><img alt="image.png" src="../image%2010.png" /></p>
<p><code>auth,authpriv.*</code></p>
<p><em>Ara:</em></p>
<p><img alt="image.png" src="../image%2011.png" /></p>
<p><code>auth,authpriv.crit</code></p>
<p>Com podem veure, el resultat no és el log que hem especificat, ja que aquest és de nivell 6 i el fitxer no el registra.</p>
<p><img alt="image.png" src="../image%2012.png" /></p>
<p>I si ens fixem amb el fitxer <code>/var/log/syslog</code> amb un <code>tail -f</code> , podem veure com si es registra.</p>
<p><img alt="image.png" src="../image%2013.png" /></p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav">
      <a href="../../Sprint3/Sprint3/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../Sprint3/Sprint3/" class="btn btn-xs btn-link">
        Sprint 3 | Gestió de Dominis i Accessos
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="None">Windmill Dark</a> theme by None (noraj).</p>
</footer>

</body>
</html>