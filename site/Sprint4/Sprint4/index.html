
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../Sprint3/Sprint3/">
      
      
        <link rel="next" href="../../Sprint5/Sprint5/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>Sprint 4 | Monitorització, connexió remota i llicenciament - Projecte Arnau</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="white">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sprint-4-monitoritzacio-connexio-remota-i-llicenciament" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Projecte Arnau" class="md-header__button md-logo" aria-label="Projecte Arnau" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Projecte Arnau
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Sprint 4 | Monitorització, connexió remota i llicenciament
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Projecte Arnau" class="md-nav__button md-logo" aria-label="Projecte Arnau" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Projecte Arnau
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pàgina Principal
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sprint2/Sprint2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sprint 2 | Gestió de la Informació del Sistema i Administració
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sprint3/Sprint3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sprint 3 | Gestió de Dominis i Accessos
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Sprint 4 | Monitorització, connexió remota i llicenciament
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Sprint 4 | Monitorització, connexió remota i llicenciament
    
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Continguts">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Continguts
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gestionar-un-equip-en-diferent-xarxa-amb-team-viewer" class="md-nav__link">
    <span class="md-ellipsis">
      Gestionar un equip en diferent xarxa (amb Team Viewer)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusio" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusió
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logs-del-sistema-i-aplicacions" class="md-nav__link">
    <span class="md-ellipsis">
      Logs del sistema i aplicacions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proves-amb-logs" class="md-nav__link">
    <span class="md-ellipsis">
      Proves amb logs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rotacio-de-logs" class="md-nav__link">
    <span class="md-ellipsis">
      Rotació de logs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#journalctl" class="md-nav__link">
    <span class="md-ellipsis">
      “journalctl”
    </span>
  </a>
  
    <nav class="md-nav" aria-label="“journalctl”">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-centralitzacio-dels-logs" class="md-nav__link">
    <span class="md-ellipsis">
      1. Centralització dels logs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-filtres" class="md-nav__link">
    <span class="md-ellipsis">
      2. Filtres
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-visualitzacio-mes-clara" class="md-nav__link">
    <span class="md-ellipsis">
      3. Visualització més clara
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-logs-persistents-i-volatils" class="md-nav__link">
    <span class="md-ellipsis">
      4. Logs persistents i volàtils
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-logs-en-temps-real" class="md-nav__link">
    <span class="md-ellipsis">
      5. Logs en temps real
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-informacio-estructurada" class="md-nav__link">
    <span class="md-ellipsis">
      6. Informació estructurada
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compartir-logs-en-xarxa" class="md-nav__link">
    <span class="md-ellipsis">
      Compartir logs en xarxa
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compartir logs en xarxa">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configurar-ordinador-receptor" class="md-nav__link">
    <span class="md-ellipsis">
      Configurar ordinador receptor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurar-ordinador-emisor" class="md-nav__link">
    <span class="md-ellipsis">
      Configurar ordinador emisor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#llicenciament-dun-programa" class="md-nav__link">
    <span class="md-ellipsis">
      Llicènciament d’un programa
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Llicènciament d’un programa">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#codi-obert-o-privat" class="md-nav__link">
    <span class="md-ellipsis">
      Codi obert o privat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alguns-exemples-de-llicencies-per-codi-obert" class="md-nav__link">
    <span class="md-ellipsis">
      Alguns exemples de llicències per codi obert:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alguns-exemples-de-llicencies-per-codi-privat" class="md-nav__link">
    <span class="md-ellipsis">
      Alguns exemples de llicències per codi privat:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guies-per-triar-llicencies" class="md-nav__link">
    <span class="md-ellipsis">
      Guies per triar llicències
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#choose-a-license" class="md-nav__link">
    <span class="md-ellipsis">
      “Choose a License”
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#un-cop-escolida-la-llicencia" class="md-nav__link">
    <span class="md-ellipsis">
      Un cop escolida la llicència
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sprint5/Sprint5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sprint 5 | Avaluació, Instal·lació i Configuració de Xarxes i Sistemes Operatius(Windows)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sprint6/Sprint6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sprint 6 | Gestió de la Informació del Sistema i Administració(Windows)
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="sprint-4-monitoritzacio-connexio-remota-i-llicenciament">Sprint 4: Monitorització, connexió remota i llicenciament<a class="headerlink" href="#sprint-4-monitoritzacio-connexio-remota-i-llicenciament" title="Permanent link">&para;</a></h1>
<h2 id="gestionar-un-equip-en-diferent-xarxa-amb-team-viewer">Gestionar un equip en diferent xarxa (amb Team Viewer)<a class="headerlink" href="#gestionar-un-equip-en-diferent-xarxa-amb-team-viewer" title="Permanent link">&para;</a></h2>
<p>El primer pas serà descarregar Team viewer desde la seva <a href="https://www.teamviewer.com/es/download/free-download-with-license-options/?utm_source=google&amp;utm_medium=cpc&amp;utm_campaign=es%7Cb%7Cpr%7C22%7Csep%7Ctv-core-brand-only-exact-sn%7Cnew%7Ct0%7C0&amp;utm_content=Exact&amp;utm_term=teamviewer">pàgina oficial</a>.</p>
<p><img alt="image.png" src="../image.png" /></p>
<p><img alt="image.png" src="../image%201.png" /></p>
<p><img alt="image.png" src="../image%202.png" /></p>
<p><img alt="image.png" src="../image%203.png" /></p>
<p>Quan haguem acceptat totes les condicions, arribarem a la pàgina principal.</p>
<p><em>Nota: és necessari que els dos equips tinguin TeamViewer per utilitzar el servei.</em></p>
<p><img alt="TVeditada.png" src="../TVeditada.png" /></p>
<p>Abans de procedir, haurem de crear i verificar un compte (o utilitzar-ne un del que disposem) per motius de seguretat de l’aplicació.</p>
<p><img alt="image.png" src="../image%204.png" /></p>
<p>Ara només necessitem repetir el procés amb l’equip al que volem conectar-nos. Un cop situats tots dos en la pàgina principal, introduirem l’ID de <strong>l’equip que volem controlar remotament</strong> al recuadre “Insert partner ID” de <strong>l’equip que volem usar per controlar-lo</strong>.</p>
<p><img alt="image.png" src="../53d9ca16-88cb-4767-80aa-153dd62a6a4f.png" /></p>
<p>Per últim ens demanarà la contrasenya per de <strong>l’equip al que ens volem conectar.</strong> </p>
<p><em>Nota: en l’imatge de la pantalla principal, és el camp tapat en negre. Sempre està al descobert així que s’ha d’anar amb cura.</em></p>
<p><img alt="image.png" src="../image%205.png" /></p>
<p>Ara ja ens hem conectat a la <strong>maquina virtual</strong> amb la <strong>màquina principal i la podem controlar des de qualsevol lloc.</strong></p>
<p><img alt="image.png" src="../image%206.png" /></p>
<h2 id="conclusio">Conclusió<a class="headerlink" href="#conclusio" title="Permanent link">&para;</a></h2>
<p>Això, en escència, permet controlar equips de forma remota a qualsevol distància. Les aplicacions son molt diverses, tant per ús personal amb algun amic/familiar com per ús professional amb algun empleat o company de feina.</p>
<p>Tot i així pot esdevenir una eina molt perillosa si es filtren les credencials, així que s’ha de tenir compte i evitar donar-les a qualsevol que les demani.</p>
<hr />
<h2 id="logs-del-sistema-i-aplicacions">Logs del sistema i aplicacions<a class="headerlink" href="#logs-del-sistema-i-aplicacions" title="Permanent link">&para;</a></h2>
<p>Per monitoritzar un sistema ubuntu sutilitzen usn fitxers anomenats “logs”, hi ha propis del os i hi ha apps que tenen els seus propis, nosaltres establirem interpretacions de logs per fer proves amb aquests .</p>
<p>Quan parlem de logs hi ha diversos tipus, segons l’aplicació, servei… en aquesta pràctica veurem com modificar les interpretacions del sistema aconseguint així diverses “interaccions” entre els diferents logs.</p>
<p>Aquesta és la jerarquia que segueixen els logs segons el nivell d’alerta.</p>
<table>
<thead>
<tr>
<th><strong>0</strong></th>
<th><strong>Emergency</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1</strong></td>
<td><strong>Alert</strong></td>
</tr>
<tr>
<td><strong>2</strong></td>
<td><strong>Critical</strong></td>
</tr>
<tr>
<td><strong>3</strong></td>
<td><strong>Error</strong></td>
</tr>
<tr>
<td><strong>4</strong></td>
<td><strong>Warning</strong></td>
</tr>
<tr>
<td><strong>5</strong></td>
<td><strong>Notice</strong></td>
</tr>
<tr>
<td><strong>6</strong></td>
<td><strong>Informational</strong></td>
</tr>
<tr>
<td><strong>7</strong></td>
<td><strong>Debug</strong></td>
</tr>
</tbody>
</table>
<p>A la ruta <code>/var/log</code> es mostren tots els logs que es generen automàticament pel sistema i algunes instal·lacions. Tot i així cal destacar que no tenen per que estar situats aquí i poden haver-hi més en altres directoris del sistema.</p>
<p><img alt="image.png" src="../7ad2a846-736c-43c8-a1c4-6b5685c55116.png" /></p>
<p>En el fitxer <code>/etc/rsyslog.d/50-defaul.conf</code> podem modificar les interpretacions per tal de decidir quins logs es mostren (o no) al seu fitxer assignat corresponent. </p>
<p><img alt="Captura de pantalla de 2025-03-11 12-44-50.png" src="../Captura_de_pantalla_de_2025-03-11_12-44-50.png" /></p>
<p><strong><em>Important: Si modifiquem el fixter, hem de reiniciar tabmé el servei dels logs amb <code>systemctl restart rsyslog</code> . Si no, els canvis no s’aplicaran fins que reiniciem el sistema, cosa que pot portar problemes i confusió. Rebrem un avís, però és normal podem ignorar-lo.</em></strong></p>
<p><img alt="image.png" src="../image%207.png" /></p>
<hr />
<h2 id="proves-amb-logs">Proves amb logs<a class="headerlink" href="#proves-amb-logs" title="Permanent link">&para;</a></h2>
<p>En la pròxima imatge veurem com fem un <code>logger -p auth.info "logger fictici"</code>.  Aquesta comanda serveix per generar una entrada inventada amb les característiques especificades, en aquest cas de tipus auth.info. </p>
<p>Amb això podem comprovar si la interpretació que hem especificat serveix per mostrar o amagar els logs en qüestió, cosa que comprovarem després al fitxer on aquesta interpretació estigui especificada.</p>
<p>La terminal de baix mostra TOTS els logs, amb l’objectiu de verificar que no hi ha hagut cap error i que el log ha funcionat correctament independentment de la prova que vulguem fer.</p>
<p><img alt="image.png" src="../image%208.png" /></p>
<p>De moment no hem especficicat cap interpretació. Per defecte, el log que hem creat hauria d’aparèixer al fitxer <code>/var/log/auth.log</code> , podem comprovar-ho amb un <code>tail -1 auth.log</code>.</p>
<p><img alt="image.png" src="../image%209.png" /></p>
<p>Ara establirem una interpretació al mateix fitxer per tal que només llegeixi logs de nivell 2 cap a dalt (Nivell alerta entre 2 i 0 inclosos).</p>
<p>Per fer-ho, hem modificat la linia superior de la imatge, que fa referència a les interpretacions del fitxer <code>auth.log</code>.</p>
<p><em>Abans:</em></p>
<p><img alt="image.png" src="../image%2010.png" /></p>
<p><code>auth,authpriv.*</code></p>
<p><em>Ara:</em></p>
<p><img alt="image.png" src="../image%2011.png" /></p>
<p><code>auth,authpriv.crit</code></p>
<p>Com podem veure, el resultat no és el log que hem especificat, ja que aquest és de nivell 6 i el fitxer no el registra.</p>
<p><img alt="image.png" src="../image%2012.png" /></p>
<p>I si ens fixem amb el fitxer <code>/var/log/syslog</code> amb un <code>tail -f</code> , podem veure com si es registra.</p>
<p><img alt="image.png" src="../image%2013.png" /></p>
<h2 id="rotacio-de-logs">Rotació de logs<a class="headerlink" href="#rotacio-de-logs" title="Permanent link">&para;</a></h2>
<p>Per últim tenim la rotació de logs. La rotació de logs és un procés automàtic que arxiva, esborra o comprimeix els logs antics per evitar que ocupin massa espai al sistema.</p>
<p>Hi ha una configuració predeterminada que gestiona automàticament els logs per tal que no ocupin massa espai, es troba al directori <code>/etc/logrotate.d</code> .</p>
<p><img alt="image.png" src="../bea1be46-4561-4ed2-a256-12eaee800121.png" /></p>
<h2 id="journalctl">“journalctl”<a class="headerlink" href="#journalctl" title="Permanent link">&para;</a></h2>
<p>La comanda <code>journalctl</code> serveix per revisar logs. És cert que es pot utilitzar un cat sobre un fitxer.log específic per obtenir un resultat semblant i vàlid, però fer servir <code>journalctl</code> per consultar els logs del sistema té diversos avantatges respecte a fer un <code>cat</code> directament als fitxers:</p>
<h3 id="1-centralitzacio-dels-logs"><strong>1. Centralització dels logs</strong><a class="headerlink" href="#1-centralitzacio-dels-logs" title="Permanent link">&para;</a></h3>
<ul>
<li><code>journalctl</code> consulta el <strong>systemd journal</strong>, que unifica logs de diferents serveis i components del sistema en un sol lloc (<code>/var/log/journal</code>).</li>
</ul>
<p><img alt="image.png" src="../image%2014.png" /></p>
<ul>
<li>En canvi, <code>cat</code> només mostra el contingut d’un únic fitxer de log, per la qual cosa has de saber exactament quin fitxer vols revisar.</li>
</ul>
<h3 id="2-filtres"><strong>2. Filtres</strong><a class="headerlink" href="#2-filtres" title="Permanent link">&para;</a></h3>
<ul>
<li><code>journalctl</code> permet aplicar <strong>filtres per servei (<code>u</code>), nivell de gravetat (<code>p</code>), rang de temps (<code>-since</code> i <code>-until</code>)</strong>, PID, i molt més.</li>
<li>Amb <code>cat</code>, hauries d’usar <code>grep</code>, <code>awk</code>, o altres eines per filtrar manualment.</li>
</ul>
<p>Per exemple, si volem veure els logs del servei que gestiona les xarxes Ethernet, WIFI, etc podem fer un <code>journalctl -u NetworkManager</code></p>
<p>Això ens mostra els logs del servei i si, a més, volem poder veurels en temps real nomes hem d’afegir un <code>-f</code> al final de la comanda anterior.</p>
<p><img alt="image.png" src="../image%2015.png" /></p>
<p>Si preferim veure logs segons la seva gravetat fem sevir <code>-p</code> juntament amb la taula dels nivells d’alerta esmentada anteriorment, per exemple:</p>
<p>Amb <code>journalctl -p 2</code> veurem totes les alertes de nivell 2 i més greu ( &gt; 2 ). I igual que abans, si afegim un <code>-f</code> al final de la comanda veurem totes aquestes alertes en temps real.</p>
<p><img alt="image.png" src="../image%2016.png" /></p>
<p>També podriem voler veure les alertes generades apartir de certa data o fins a una, en aquest cas utilitzarem <code>--since</code> i <code>--until</code> :</p>
<p><code>journalctl --since “1 hour ago”</code>:</p>
<p><img alt="image.png" src="../image%2017.png" /></p>
<p>També podem combinar-les :</p>
<p><code>journalctl --since “2025-03-17 00:00:00” --until “2025-03-18 00:00:00”</code> Mostrarà totes les alertes entre ahir a les 00:00 i avui a les 00:00.</p>
<p><img alt="image.png" src="../image%2018.png" /></p>
<h3 id="3-visualitzacio-mes-clara"><strong>3. Visualització més clara</strong><a class="headerlink" href="#3-visualitzacio-mes-clara" title="Permanent link">&para;</a></h3>
<ul>
<li><code>journalctl</code> permet mostrar els logs en format estructurat, amb sortida <strong>amb colors i paginada</strong>.</li>
<li><code>cat</code> imprimeix tot el contingut de cop, el que pot ser poc manejable si el fitxer és molt gran.</li>
</ul>
<h3 id="4-logs-persistents-i-volatils"><strong>4. Logs persistents i volàtils</strong><a class="headerlink" href="#4-logs-persistents-i-volatils" title="Permanent link">&para;</a></h3>
<ul>
<li><code>journalctl</code> accedeix tant als logs <strong>persistents</strong> (guardats a <code>/var/log/journal/</code>) com als <strong>volàtils</strong> (memòria RAM, útils per depuració immediata).</li>
<li><code>cat</code> només pot llegir logs persistents.</li>
</ul>
<h3 id="5-logs-en-temps-real"><strong>5. Logs en temps real</strong><a class="headerlink" href="#5-logs-en-temps-real" title="Permanent link">&para;</a></h3>
<ul>
<li>Amb <code>journalctl -f</code>, pots veure els logs en temps real (similar a <code>tail -f</code>).</li>
<li>Amb <code>cat</code>, hauries d’usar <code>tail -f</code> manualment:</li>
</ul>
<p><img alt="image.png" src="../image%2019.png" /></p>
<h3 id="6-informacio-estructurada"><strong>6. Informació estructurada</strong><a class="headerlink" href="#6-informacio-estructurada" title="Permanent link">&para;</a></h3>
<ul>
<li><code>journalctl</code> mostra informació estructurada sobre cada entrada del log, incloent metadades com <strong>unitat systemd, PID, servei i usuari</strong>.</li>
<li><code>cat</code> només mostra el text cru sense format.</li>
</ul>
<p>En resum, <code>journalctl</code> és molt més eficient que cat sent aquest últim molt rudimentari.</p>
<h2 id="compartir-logs-en-xarxa">Compartir logs en xarxa<a class="headerlink" href="#compartir-logs-en-xarxa" title="Permanent link">&para;</a></h2>
<p>Hem vist com gestionar i observar els logs del nostre sistema, però i si volem enviar-los a un altre sistema automàticament en temps real?</p>
<h3 id="configurar-ordinador-receptor">Configurar ordinador receptor<a class="headerlink" href="#configurar-ordinador-receptor" title="Permanent link">&para;</a></h3>
<p>Primer hem de configurar l’ordinador que rebrà el logs:</p>
<p><code>sudo apt update &amp;&amp; sudo apt install rsyslog</code>  → per actualitzar paquets i instal·lar els necessaris.</p>
<p>Ara hem de modificar la configuració:</p>
<p><code>sudo nano /etc/rsyslog.conf</code>  → Hem de modificar el fitxer i descomentar lés linies “module” i “input”.</p>
<p><img alt="image.png" src="../image%2020.png" /></p>
<p><img alt="image.png" src="../image%2021.png" /></p>
<p>Guardem el fitxer, sortim i reiniciem el servei amb <code>sudo systemctl restart rsyslog</code> .</p>
<p>A continuació hem d’obrir els ports al tallafocs per evitar problemes</p>
<p><code>sudo ufw allow 514/udp</code></p>
<p><code>sudo ufw allow 514/tcp</code></p>
<p><img alt="image.png" src="../image%2022.png" /></p>
<p>Ja tindriem el receptor configurat.</p>
<h3 id="configurar-ordinador-emisor">Configurar ordinador emisor<a class="headerlink" href="#configurar-ordinador-emisor" title="Permanent link">&para;</a></h3>
<p>Ara configurarem l’ordinador que enviará els logs:</p>
<p><code>sudo apt update &amp;&amp; sudo apt install rsyslog</code>  → per actualitzar paquets i instal·lar els necessaris.</p>
<p>Modifiquem la configuració →<code>sudo nano /etc/rsyslog.conf</code>. Hem d’afegir al final del fitxer les següents linies:</p>
<p><code>**.** @IP_DEL_SERVIDOR:514    # Per UDP</code></p>
<p><code>**.** @@IP_DEL_SERVIDOR:514   # Per TCP</code></p>
<p><img alt="image.png" src="../image%2023.png" /></p>
<p>Guardem el fitxer, sortim i reiniciem el servei amb <code>sudo systemctl restart rsyslog</code> .</p>
<p>Fem un <code>tail -f /var/log/syslog</code> a l’ordinador receptor per vaure els logs i:</p>
<p><img alt="image.png" src="../image%2024.png" /></p>
<h2 id="llicenciament-dun-programa">Llicènciament d’un programa<a class="headerlink" href="#llicenciament-dun-programa" title="Permanent link">&para;</a></h2>
<p>El procés de llicenciament d'una aplicació implica escollir una llicència adequada que defineixi com altres persones poden utilitzar, modificar i redistribuir el teu codi.</p>
<h3 id="codi-obert-o-privat">Codi obert o privat<a class="headerlink" href="#codi-obert-o-privat" title="Permanent link">&para;</a></h3>
<p>Primer has de decidir si el teu programa serà de codi obert o privat.</p>
<p>El codi obert permet que altres persones utilitzin, modifiquin i distribueixin el teu codi sota certes condicions.</p>
<p>Mentre que el privat no permet l'ús ni la modificació del codi sense el teu permís explícit.</p>
<h3 id="alguns-exemples-de-llicencies-per-codi-obert">Alguns exemples de llicències per codi obert:<a class="headerlink" href="#alguns-exemples-de-llicencies-per-codi-obert" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>MIT</strong>: Qualsevol pot utilitzar, modificar i distribuir el codi, fins i tot en projectes comercials, sempre que es mantingui l'avís de copyright original.</li>
<li><strong>Apache 2.0</strong>: Similar a la MIT, però inclou una clàusula de patents per protegir-te legalment.</li>
<li><strong>BSD (2 o 3 clàusules)</strong>: Molt semblant a MIT, però amb restriccions addicionals en l'ús del nom de l'autor.</li>
</ul>
<p><img alt="image.png" src="../image%2025.png" /></p>
<h3 id="alguns-exemples-de-llicencies-per-codi-privat">Alguns exemples de llicències per codi privat:<a class="headerlink" href="#alguns-exemples-de-llicencies-per-codi-privat" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Llicències comercials pròpies</strong>, on només tu pots distribuir i vendre el producte.</li>
<li><strong>Freemium</strong>: On una part del teu programari és gratuïta, però certes funcionalitats són de pagament.</li>
<li><strong>Llicència d'ús restringit</strong>, on els usuaris poden utilitzar l'aplicació però sense accés al codi font.</li>
</ul>
<h3 id="guies-per-triar-llicencies">Guies per triar llicències<a class="headerlink" href="#guies-per-triar-llicencies" title="Permanent link">&para;</a></h3>
<p>Els textos de les llicències estan predefinits i es poden trobar a fonts oficials o generadors de llicències. Alguns llocs recomanats:</p>
<ul>
<li><a href="https://choosealicense.com/"><strong>Choose a License</strong></a> → Guia de GitHub per escollir una llicència i obtenir el text oficial. (La que utilitzarem com a exemple).</li>
<li><a href="https://opensource.org/"><strong>Open Source Initiative</strong></a> → Llista de llicències aprovades de codi obert.</li>
</ul>
<h3 id="choose-a-license">“Choose a License”<a class="headerlink" href="#choose-a-license" title="Permanent link">&para;</a></h3>
<p><a href="http://Choosalicense.com">Choosalicense.com</a> és una pàgina que t’ajuda a triar el tipus de llicència que hauries d’escollir depenent dels requisits que tens.</p>
<p>Nosaltres escollirem la del mig, la llicència MIT o “MIT License”. Podem clickar damunnt de l’imatge central.</p>
<p><img alt="image.png" src="../image%2026.png" /></p>
<p><em>Click en la imatge per anar al lloc.</em></p>
<p><img alt="image.png" src="../image%2027.png" /></p>
<p>Com ja he mencionat, utilitzar-la és tan senzill com afegir un fitxer LICENSE a l’arrel del projecte que contingui el text en pantalla. També tenim una sèrie d’indicadors que ens mostren les condicions que accpetem tant nosaltres com la resta d’usuaris al utilitzar la llicència, podem situar el cursor al damunt per veure una explicaió més detallada.</p>
<p><img alt="image.png" src="../image%2028.png" /></p>
<h3 id="un-cop-escolida-la-llicencia">Un cop escolida la llicència<a class="headerlink" href="#un-cop-escolida-la-llicencia" title="Permanent link">&para;</a></h3>
<p>Afegeix un fitxer <strong>LICENSE</strong> a l'arrel del teu projecte amb el text de la llicència i especifica la llicència en la documentació i a la teva pàgina web o repositori (GitHub, GitLab, etc.). En projectes públics, pots afegir una nota als teus fitxers font (<code>// Copyright 2025 - Llicència MIT</code>).</p>
<p>Per exemple, si jo vull afegir la llicència MIT al meu projecte d’IntelliJ, genero un fitxer LICENSE.txt a l’arrel i apego el text que acabem de veure:</p>
<p><img alt="image.png" src="../image%2029.png" /></p>
<p>Així, ja tindriem la llicència establerta.</p>
<p>La pàgina, a més, ofereix més informació; com el tipus de llicència a escollir en cas que el teu producte no sigui software, què passa si no utilitzes una llicència, etc.</p>
<p><img alt="image.png" src="../image%2030.png" /></p>
<p>Hi ha molts requisits a l’hora d’establir segons quina llicència a segons quin projecte. Cal aprofundir en el tema per tal d’assegurar la validesa de la llicència que escollim.</p>
<p><img alt="image.png" src="../image%2031.png" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.expand", "toc.integrate", "toc.follow", "toc.autohide"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>