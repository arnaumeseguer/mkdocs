{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Arnau Meseguer Sancho \u00b6 Exercicis Sistemes Inform\u00e0tics. \u00a1Consell! \u00b6 Utilitza l'index per viatjar entre projectes si veus algun error, no dubtis en dir-m'ho Distribuci\u00f3 dels projectes \u00b6 index.md -> La p\u00e0gina principal Sprint2.md -> Gesti\u00f3 de la Informaci\u00f3 del Sistema i Administraci\u00f3 Sprint3.md -> Gesti\u00f3 de Dominis i Accessos","title":"P\u00e0gina Principal"},{"location":"#arnau-meseguer-sancho","text":"Exercicis Sistemes Inform\u00e0tics.","title":"Arnau Meseguer Sancho"},{"location":"#consell","text":"Utilitza l'index per viatjar entre projectes si veus algun error, no dubtis en dir-m'ho","title":"\u00a1Consell!"},{"location":"#distribucio-dels-projectes","text":"index.md -> La p\u00e0gina principal Sprint2.md -> Gesti\u00f3 de la Informaci\u00f3 del Sistema i Administraci\u00f3 Sprint3.md -> Gesti\u00f3 de Dominis i Accessos","title":"Distribuci\u00f3 dels projectes"},{"location":"Sprint2/Sprint2/","text":"Sprint2 \u00b6 Gesti\u00f3 de la Informaci\u00f3 del Sistema i Administraci\u00f3 \u00b6 Qu\u00e8 \u00e9s un usuari? \u00b6 Un usuari \u00e9s una entitat l\u00f2gica creada per gestionar els permisos, l'acc\u00e9s i les accions en un sistema operatiu o aplicaci\u00f3. Gr\u00e0ficament no pot treballar m\u00e9s d\u2019un usuari, per\u00f2 amb terminals si. Qu\u00e8 son els grups i quina utilitat tenen. \u00b6 \u00c9s una col\u00b7lecci\u00f3 d\u2019usuaris que comparteixen permisos i/o privilegis. serveixen per donar/llevar permisos a un grup d\u2019usuaris enlloc de fer-ho un per un. Per exemple, tots els usuaris del grup \u201csudoers\u201d poden utilitzar les comandes utilitzant \u201csudo\u201d a l\u2019inici de les mateixes. **** Creaci\u00f3 D'usuaris \u00b6 Hi ha diverses formes de crear usuaris a un sistema Ubuntu. Depenent del resultat que vulguem aconseguir, de vegades algunes formes seran m\u00e9s \u00f2ptimes que altres. La m\u00e9s simple: interf\u00edcie gr\u00e0fica. Amb la seg\u00fcent comanda, podem instal\u00b7lar l\u2019interf\u00edcie gr\u00e0fica que ens permet crear i esborrar usuaris sense la necessitat d\u2019usar el terminal. Finalment, i despr\u00e9s d\u2019haver escollit la contrasenya, podem incloure l\u2019usuari en algun dels grups existents i seleccionar quins permisos tindr\u00e0. \u201cuseradd \u201d \u00b6 Un forma de crear un usuari amb terminal \u00e9s utilitzar la comanda \u201cuseradd\u201d seguida del nom de l\u2019usuari: Aquesta comanda crea l\u2019usuari \u201cjulia\u201d al sistema, per\u00f2 aquest usuari no tindr\u00e0 cap carpeta d\u2019usuari fins que iniciem sessi\u00f3 per primera vegada amb l\u2019interf\u00edcie gr\u00e0fica. A m\u00e9s la comanda no retorna cap confirmaci\u00f3 de la creaci\u00f3 de l\u2019usuari. \u201cadduser \u201d \u00b6 Una altra forma de crear un usuari amb terminal \u00e9s la comanda \u201cadduser\u201d seguida de l\u2019usuari. Aquesta comanda proporciona m\u00e9s informaci\u00f3 sobre el proc\u00e9s de crear un usuari i, en esc\u00e8ncia, \u00e9s m\u00e9s c\u00f2moda. Sistemes d\u2019arxius i particions \u00b6 Per crear i modificar noves particions \u00b6 Amb la comanda fdisk -l podem llistar tots els dispositius d\u2019emmagatzematge de que disposem per tal de fer particions i altres modificacions. amb la comanda f disk seguida de la ruta al disc que volem modificar, podem entrar al men\u00fa d\u2019opcions que ofereix el sistema per a aquell disc. Es important destacar que qualsevol canvi que fem es registra per\u00f2 no s\u2019aplica fins que el guardem, cosa que veurem ara mateix. Premem \u2018 n \u2019 per crear una nova partici\u00f3, aix\u00f2 ens demanar\u00e0 un seguit d\u2019especificacions per aquesta. Per a una prova simple els valors predeterminats son suficient. El disc \u00e9s de 2GB i hem utilitzat la meitat per fer la prova. Inmediatament despr\u00e9s premem \u2018 w \u2019 per aplicar els canvis (si no volem fer cap altra cosa), ja que tot el que hem fet es guarda en la mem\u00f2ria per\u00f2 no es fa realment fins que no confirmem amb aquesta tecla. Aquest \u00e9s el resultat final de la partici\u00f3 Amb mkfs.ext4 -b 2048 /dev/sdb1 canviem la mida del bloc de 4096 (per defecte) a 2048 per a la nostra partici\u00f3. Crear nom\u00e9s la partici\u00f3 no serveix de res, doncs tenim que montarla en una carpeta. Creem una carpeta particio1 per fer-ho i hi montem la partici\u00f3 amb el sistema d\u2019arxius que seleccionem en aquest cas ext4 amb la seg\u00fcent comanda: mount -t ext4 /ruta/particio /ruta/a/carpeta/montatge Si fem un veurem que s\u2019ha creat un directori anomenat \u201clost+found\u201d aix\u00f2 indica que la partici\u00f3 s\u2019ha montat correctament. Desmontar el disk de la carpeta no elimina els seus arxius doncs fer el montatge nom\u00e9s es una mena de ruta des de la carpeta fins al contingut de la partici\u00f3 del disc. Aix\u00ed doncs, si tornem a montar-lo veurem com els arxius segueixen all\u00ed. el montatge del disc es desfar\u00e0 cada cop que reiniciem el sistema si ho fem nom\u00e9s d\u2019aquesta forma. Per fer-ho permanent hem de modificar el fitxer /etc/fstab. Concretament hem d\u2019afegir una linia que inclogui amb aquest ordre: La ruta de la partici\u00f3 La ruta a la carpeta de moantatge El tipus de sistema d\u2019arxius Els permisos de la partici\u00f3 Si s\u2019ha de fer una c\u00f2pia de seguretat amb dump La prioritat que te el sistema de fitxers en q\u00fcesti\u00f3 per ser comprovat durant l\u2019arrenca Despr\u00e9s del reboot Servidor samba \u00b6 C\u00f2pies de seguretat \u00b6 Conceptes te\u00f2rics \u00b6 S\u2019ha d\u2019establir una bona pol\u00edtica de c\u00f2pies de seguretat per al que cal con\u00e8ixer els seg\u00fcents conceptes respecte als tipus de c\u00f2pies de seguretat: Completes Diferencials Incrementals C\u00f2pies de seguretat completes: \u00b6 Les c\u00f2pies de seguretat completes copien tots els continguts al complet, cosa que fa f\u00e0cil la posterior recuperaci\u00f3 de les dades. Cal considerar que al ser completa ser\u00e0 m\u00e9s lenta de fer i de restaurar. C\u00f2pies de seguretat diferencials: \u00b6 Emmagatzema c\u00f2pies nom\u00e9s dels canvis fets des de la \u00faltima c\u00f2pia completa, per restaurar-la necessitem la \u00faltima c\u00f2pia completa i la \u00faltima diferencial. C\u00f2pies de seguretat incrementals: \u00b6 Guarda la informaci\u00f3 des de la \u00faltima c\u00f2pia qualsevol. Per restaurar necessita la \u00faltima c\u00f2pia completa, la \u00faltima c\u00f2pia diferencial i totes les c\u00f2pies incrementals Programes en Interf\u00edcie \u00b6 Deja-Dup Comandes \u00b6 taula comparativa difer\u00e8ncies fonamentals: cp: \u00e9s una c\u00f2pia simple no intel\u00b7ligent que no mira res i ho c\u00f2pia tot, es fa en local. rsync: \u00e9s una c\u00f2pia intel\u00b7ligent, nom\u00e9s c\u00f2pia els modificats i es pot fer entre m\u00e0quines remotes via SSH. Tamb\u00e9 ha borrat el fitxer adeu, ja que no estava a la c\u00f2pia feta per\u00f2 si a la ruta final (ho ha fet amb l\u2019opci\u00f3 \u2014delete) dd: No \u00e9s pr\u00f2piament per fer c\u00f2pies d\u2019arxius, treballa en local, treballa a nivell de bloc, va b\u00e9 per fer clonacions de discs i particions. No nom\u00e9s c\u00f2pia arxius, tamb\u00e9 metadades, sistema d\u2019arxius, mida dels blocs\u2026 Es pot utilitzar tamb\u00e9 per esborrar arxius definitivament. Primer fem la c\u00f2pia al disc dur. Despr\u00e9s, al montar-lo a la carpeta \u201ccopia_dades_de_dades\u201d apareixen els arxius resultants de la c\u00f2pia (no es mostraven abans ja que el disc no estava muntat, per\u00f2 aix\u00f2 ja s\u2019ha vist a l\u2019apartat de particions) A l\u2019ultima imatge, els hash no s\u00f3n iguals ja que a l\u2019hora de fer la c\u00f2pia hem utilitzat 4M per la velocitat, i alguna cosa haur\u00e0 anat diferent, al refer la c\u00f2pia amb 1M la c\u00f2pia acaba resultant perfecta i els arxius i estructures de dades son iguals resultant en un hash id\u00e8ntic per totes dues particions. Automatitzaci\u00f3 d\u2019scripts i cron i anacron \u00b6 Teoria \u00b6 Difer\u00e8ncies entre anacron i cron \u00b6 En sistemes operatius anteriors funcionaven per separat, ara estan integrats i funcionen de forma conjunta. Serveixen per automatitzar tasques. Veurem quan utilitzar un i l\u2019altre: Anacron : L\u2019utilitzarem quan un ordinador pugue estar apagat, ja que en engegar-se anacron detecta que hi ha una tasca no executada i l\u2019executa. L\u2019utilitzarem tamb\u00e9 quan sigue una automatitzaci\u00f3 general a nivell general i de SO Cron: Quan executem alguna cosa molt concreta a una hora determinada i pensem que l\u2019ordinador estar\u00e0 engegat. Opcions cron: utilitzarem /etc/crontab quan volem executar alguna cosa globalment per tot els usuaris. Quan volem definir alguna cosa espec\u00edfica per algun usuari en particular utilitzarem: crontab -e -u usuari Dintre del directori /etc/cron/ hi ha carpetes preparades. Pr\u00e0ctica \u00b6 En l\u2019exemple seg\u00fcent creem un script per crear un arxiu de forma automatitzada en engegar l\u2019ordinador. Obrim un editor de text ( nano ) per crear un script bash \u201c copia.sh \". Dins l'script, utilitzem una comanda tar per crear un arxiu comprimit ( tar.gz ) del directori Documents . El nom del fitxer cont\u00e9 un timestamp que indica la data i hora d'execuci\u00f3. Guardem l'script i canviem els permisos amb chmod +x copia.sh per fer-lo executable. Verifiquem que el fitxer s'ha creat correctament utilitzant ls . Executem l'script manualment amb ./copia.sh i observem que es genera l'arxiu comprimit al directori indicat, a Escritorio . Editem el fitxer de configuraci\u00f3 de cron ( /etc/crontab ) per programar l'execuci\u00f3 autom\u00e0tica de l'script. Especifiquem que l'script s'executi en una data i hora concreta. Per exemple, a les 12:14 del dia 9 del mes 1 (gener) i el dia de la setmana 4 (dijous). Comprovem que la programaci\u00f3 est\u00e0 configurada i copiem l'script al directori cron.daily per assegurar que s'executi di\u00e0riament si \u00e9s necessari. Conclusi\u00f3 \u00b6 Aquest proc\u00e9s ens permet configurar un sistema autom\u00e0tic de c\u00f2pies de seguretat amb un script d\u2019execuci\u00f3 autom\u00e0tica utilitzant cron.","title":"Sprint 2 | Gesti\u00f3 de la Informaci\u00f3 del Sistema i Administraci\u00f3"},{"location":"Sprint2/Sprint2/#sprint2","text":"","title":"Sprint2"},{"location":"Sprint2/Sprint2/#gestio-de-la-informacio-del-sistema-i-administracio","text":"","title":"Gesti\u00f3 de la Informaci\u00f3 del Sistema i Administraci\u00f3"},{"location":"Sprint2/Sprint2/#que-es-un-usuari","text":"Un usuari \u00e9s una entitat l\u00f2gica creada per gestionar els permisos, l'acc\u00e9s i les accions en un sistema operatiu o aplicaci\u00f3. Gr\u00e0ficament no pot treballar m\u00e9s d\u2019un usuari, per\u00f2 amb terminals si.","title":"Qu\u00e8 \u00e9s un usuari?"},{"location":"Sprint2/Sprint2/#que-son-els-grups-i-quina-utilitat-tenen","text":"\u00c9s una col\u00b7lecci\u00f3 d\u2019usuaris que comparteixen permisos i/o privilegis. serveixen per donar/llevar permisos a un grup d\u2019usuaris enlloc de fer-ho un per un. Per exemple, tots els usuaris del grup \u201csudoers\u201d poden utilitzar les comandes utilitzant \u201csudo\u201d a l\u2019inici de les mateixes. ****","title":"Qu\u00e8 son els grups i quina utilitat tenen."},{"location":"Sprint2/Sprint2/#creacio-dusuaris","text":"Hi ha diverses formes de crear usuaris a un sistema Ubuntu. Depenent del resultat que vulguem aconseguir, de vegades algunes formes seran m\u00e9s \u00f2ptimes que altres. La m\u00e9s simple: interf\u00edcie gr\u00e0fica. Amb la seg\u00fcent comanda, podem instal\u00b7lar l\u2019interf\u00edcie gr\u00e0fica que ens permet crear i esborrar usuaris sense la necessitat d\u2019usar el terminal. Finalment, i despr\u00e9s d\u2019haver escollit la contrasenya, podem incloure l\u2019usuari en algun dels grups existents i seleccionar quins permisos tindr\u00e0.","title":"Creaci\u00f3 D'usuaris"},{"location":"Sprint2/Sprint2/#useradd","text":"Un forma de crear un usuari amb terminal \u00e9s utilitzar la comanda \u201cuseradd\u201d seguida del nom de l\u2019usuari: Aquesta comanda crea l\u2019usuari \u201cjulia\u201d al sistema, per\u00f2 aquest usuari no tindr\u00e0 cap carpeta d\u2019usuari fins que iniciem sessi\u00f3 per primera vegada amb l\u2019interf\u00edcie gr\u00e0fica. A m\u00e9s la comanda no retorna cap confirmaci\u00f3 de la creaci\u00f3 de l\u2019usuari.","title":"\u201cuseradd \u201d"},{"location":"Sprint2/Sprint2/#adduser","text":"Una altra forma de crear un usuari amb terminal \u00e9s la comanda \u201cadduser\u201d seguida de l\u2019usuari. Aquesta comanda proporciona m\u00e9s informaci\u00f3 sobre el proc\u00e9s de crear un usuari i, en esc\u00e8ncia, \u00e9s m\u00e9s c\u00f2moda.","title":"\u201cadduser \u201d"},{"location":"Sprint2/Sprint2/#sistemes-darxius-i-particions","text":"","title":"Sistemes d\u2019arxius i particions"},{"location":"Sprint2/Sprint2/#per-crear-i-modificar-noves-particions","text":"Amb la comanda fdisk -l podem llistar tots els dispositius d\u2019emmagatzematge de que disposem per tal de fer particions i altres modificacions. amb la comanda f disk seguida de la ruta al disc que volem modificar, podem entrar al men\u00fa d\u2019opcions que ofereix el sistema per a aquell disc. Es important destacar que qualsevol canvi que fem es registra per\u00f2 no s\u2019aplica fins que el guardem, cosa que veurem ara mateix. Premem \u2018 n \u2019 per crear una nova partici\u00f3, aix\u00f2 ens demanar\u00e0 un seguit d\u2019especificacions per aquesta. Per a una prova simple els valors predeterminats son suficient. El disc \u00e9s de 2GB i hem utilitzat la meitat per fer la prova. Inmediatament despr\u00e9s premem \u2018 w \u2019 per aplicar els canvis (si no volem fer cap altra cosa), ja que tot el que hem fet es guarda en la mem\u00f2ria per\u00f2 no es fa realment fins que no confirmem amb aquesta tecla. Aquest \u00e9s el resultat final de la partici\u00f3 Amb mkfs.ext4 -b 2048 /dev/sdb1 canviem la mida del bloc de 4096 (per defecte) a 2048 per a la nostra partici\u00f3. Crear nom\u00e9s la partici\u00f3 no serveix de res, doncs tenim que montarla en una carpeta. Creem una carpeta particio1 per fer-ho i hi montem la partici\u00f3 amb el sistema d\u2019arxius que seleccionem en aquest cas ext4 amb la seg\u00fcent comanda: mount -t ext4 /ruta/particio /ruta/a/carpeta/montatge Si fem un veurem que s\u2019ha creat un directori anomenat \u201clost+found\u201d aix\u00f2 indica que la partici\u00f3 s\u2019ha montat correctament. Desmontar el disk de la carpeta no elimina els seus arxius doncs fer el montatge nom\u00e9s es una mena de ruta des de la carpeta fins al contingut de la partici\u00f3 del disc. Aix\u00ed doncs, si tornem a montar-lo veurem com els arxius segueixen all\u00ed. el montatge del disc es desfar\u00e0 cada cop que reiniciem el sistema si ho fem nom\u00e9s d\u2019aquesta forma. Per fer-ho permanent hem de modificar el fitxer /etc/fstab. Concretament hem d\u2019afegir una linia que inclogui amb aquest ordre: La ruta de la partici\u00f3 La ruta a la carpeta de moantatge El tipus de sistema d\u2019arxius Els permisos de la partici\u00f3 Si s\u2019ha de fer una c\u00f2pia de seguretat amb dump La prioritat que te el sistema de fitxers en q\u00fcesti\u00f3 per ser comprovat durant l\u2019arrenca Despr\u00e9s del reboot","title":"Per crear i modificar noves particions"},{"location":"Sprint2/Sprint2/#servidor-samba","text":"","title":"Servidor samba"},{"location":"Sprint2/Sprint2/#copies-de-seguretat","text":"","title":"C\u00f2pies de seguretat"},{"location":"Sprint2/Sprint2/#conceptes-teorics","text":"S\u2019ha d\u2019establir una bona pol\u00edtica de c\u00f2pies de seguretat per al que cal con\u00e8ixer els seg\u00fcents conceptes respecte als tipus de c\u00f2pies de seguretat: Completes Diferencials Incrementals","title":"Conceptes te\u00f2rics"},{"location":"Sprint2/Sprint2/#copies-de-seguretat-completes","text":"Les c\u00f2pies de seguretat completes copien tots els continguts al complet, cosa que fa f\u00e0cil la posterior recuperaci\u00f3 de les dades. Cal considerar que al ser completa ser\u00e0 m\u00e9s lenta de fer i de restaurar.","title":"C\u00f2pies de seguretat completes:"},{"location":"Sprint2/Sprint2/#copies-de-seguretat-diferencials","text":"Emmagatzema c\u00f2pies nom\u00e9s dels canvis fets des de la \u00faltima c\u00f2pia completa, per restaurar-la necessitem la \u00faltima c\u00f2pia completa i la \u00faltima diferencial.","title":"C\u00f2pies de seguretat diferencials:"},{"location":"Sprint2/Sprint2/#copies-de-seguretat-incrementals","text":"Guarda la informaci\u00f3 des de la \u00faltima c\u00f2pia qualsevol. Per restaurar necessita la \u00faltima c\u00f2pia completa, la \u00faltima c\u00f2pia diferencial i totes les c\u00f2pies incrementals","title":"C\u00f2pies de seguretat incrementals:"},{"location":"Sprint2/Sprint2/#programes-en-interficie","text":"Deja-Dup","title":"Programes en Interf\u00edcie"},{"location":"Sprint2/Sprint2/#comandes","text":"taula comparativa difer\u00e8ncies fonamentals: cp: \u00e9s una c\u00f2pia simple no intel\u00b7ligent que no mira res i ho c\u00f2pia tot, es fa en local. rsync: \u00e9s una c\u00f2pia intel\u00b7ligent, nom\u00e9s c\u00f2pia els modificats i es pot fer entre m\u00e0quines remotes via SSH. Tamb\u00e9 ha borrat el fitxer adeu, ja que no estava a la c\u00f2pia feta per\u00f2 si a la ruta final (ho ha fet amb l\u2019opci\u00f3 \u2014delete) dd: No \u00e9s pr\u00f2piament per fer c\u00f2pies d\u2019arxius, treballa en local, treballa a nivell de bloc, va b\u00e9 per fer clonacions de discs i particions. No nom\u00e9s c\u00f2pia arxius, tamb\u00e9 metadades, sistema d\u2019arxius, mida dels blocs\u2026 Es pot utilitzar tamb\u00e9 per esborrar arxius definitivament. Primer fem la c\u00f2pia al disc dur. Despr\u00e9s, al montar-lo a la carpeta \u201ccopia_dades_de_dades\u201d apareixen els arxius resultants de la c\u00f2pia (no es mostraven abans ja que el disc no estava muntat, per\u00f2 aix\u00f2 ja s\u2019ha vist a l\u2019apartat de particions) A l\u2019ultima imatge, els hash no s\u00f3n iguals ja que a l\u2019hora de fer la c\u00f2pia hem utilitzat 4M per la velocitat, i alguna cosa haur\u00e0 anat diferent, al refer la c\u00f2pia amb 1M la c\u00f2pia acaba resultant perfecta i els arxius i estructures de dades son iguals resultant en un hash id\u00e8ntic per totes dues particions.","title":"Comandes"},{"location":"Sprint2/Sprint2/#automatitzacio-dscripts-i-cron-i-anacron","text":"","title":"Automatitzaci\u00f3 d\u2019scripts i cron i anacron"},{"location":"Sprint2/Sprint2/#teoria","text":"","title":"Teoria"},{"location":"Sprint2/Sprint2/#diferencies-entre-anacron-i-cron","text":"En sistemes operatius anteriors funcionaven per separat, ara estan integrats i funcionen de forma conjunta. Serveixen per automatitzar tasques. Veurem quan utilitzar un i l\u2019altre: Anacron : L\u2019utilitzarem quan un ordinador pugue estar apagat, ja que en engegar-se anacron detecta que hi ha una tasca no executada i l\u2019executa. L\u2019utilitzarem tamb\u00e9 quan sigue una automatitzaci\u00f3 general a nivell general i de SO Cron: Quan executem alguna cosa molt concreta a una hora determinada i pensem que l\u2019ordinador estar\u00e0 engegat. Opcions cron: utilitzarem /etc/crontab quan volem executar alguna cosa globalment per tot els usuaris. Quan volem definir alguna cosa espec\u00edfica per algun usuari en particular utilitzarem: crontab -e -u usuari Dintre del directori /etc/cron/ hi ha carpetes preparades.","title":"Difer\u00e8ncies entre anacron i cron"},{"location":"Sprint2/Sprint2/#practica","text":"En l\u2019exemple seg\u00fcent creem un script per crear un arxiu de forma automatitzada en engegar l\u2019ordinador. Obrim un editor de text ( nano ) per crear un script bash \u201c copia.sh \". Dins l'script, utilitzem una comanda tar per crear un arxiu comprimit ( tar.gz ) del directori Documents . El nom del fitxer cont\u00e9 un timestamp que indica la data i hora d'execuci\u00f3. Guardem l'script i canviem els permisos amb chmod +x copia.sh per fer-lo executable. Verifiquem que el fitxer s'ha creat correctament utilitzant ls . Executem l'script manualment amb ./copia.sh i observem que es genera l'arxiu comprimit al directori indicat, a Escritorio . Editem el fitxer de configuraci\u00f3 de cron ( /etc/crontab ) per programar l'execuci\u00f3 autom\u00e0tica de l'script. Especifiquem que l'script s'executi en una data i hora concreta. Per exemple, a les 12:14 del dia 9 del mes 1 (gener) i el dia de la setmana 4 (dijous). Comprovem que la programaci\u00f3 est\u00e0 configurada i copiem l'script al directori cron.daily per assegurar que s'executi di\u00e0riament si \u00e9s necessari.","title":"Pr\u00e0ctica"},{"location":"Sprint2/Sprint2/#conclusio","text":"Aquest proc\u00e9s ens permet configurar un sistema autom\u00e0tic de c\u00f2pies de seguretat amb un script d\u2019execuci\u00f3 autom\u00e0tica utilitzant cron.","title":"Conclusi\u00f3"},{"location":"Sprint3/Sprint3/","text":"Sprint 3 \u00b6 INSTAL\u00b7LACI\u00d3 DEL DOMINI LDAP \u00b6 Primer canviem el hostname i afegim el nom del domini que estarem utilitzant durant la manipulaci\u00f3 del ldap. Ara, instal\u00b7lem els recursos necessaris per utilitzar l\u2019ldap i configurem una contrasenya. Per fer la base del domini hi ha dos opcions: fer-ho a trav\u00e9s dels arxius base .ldif fer-ho a trav\u00e9s d\u2019una comanda (la que utilitzarem nosaltres) Durant el proc\u00e9s seleccionem gaireb\u00e9 totes les opcions per defecte, ja que per al que volem fer, \u00e9s m\u00e9s que suficient. Finalment veiem com amb la comanda slapcat sen\u2019s mostra el nou domini i la seva organitzaci\u00f3. Unir equips al domini \u00b6 Crearem una unitat organitzativa, que es un contenidor dins del directori per guardar objectes com: usuaris i grups. Creem un grup anomenat alumnes per a poder posar els usuaris creats i posem els usuaris que volem afegir a la part inferior. Ara configurem el fitxer de l\u2019usuari per a poder utilitzar-lo en la maquina client. -c fa que el ldapadd continu\u00ef executant-se encara que es produeixin errors. -x utilitza autenticaci\u00f3 simple en lloc de SASL (Simple Authentication and Security Layer). -D indica el Distinguished Name (DN) de l'usuari que realitza l'operaci\u00f3, en aquest cas, l'usuari administrador. -W demana la contrasenya de l'usuari especificat amb -D . Aix\u00f2 \u00e9s m\u00e9s segur que incloure la contrasenya directament a la comanda com passaria amb la -w . Executem tots els canvis i verifiquem que s\u2019han enregistrat correctament Un cop a la maquina client \u00b6 Instal\u00b7lem el \u201cnscd\u201d: un dimoni (programa en segon pla) que s\u2019encarrega d\u2019emmagatzemar la mem\u00f2ria cau(cache). Instal\u00b7lem tamb\u00e9 una llibreria que ens permetr\u00e0 fer la connexi\u00f3 al domini \u201cldap\u201d des del client amb apt install libnss-ldap . Fiquem la \u201cip\u201d del server (amb el format que es mostra a l\u2019imatge: ldap://server_ip ) per conectar-nos. Podem anar seleccionant tamb\u00e9 les opcions per defecte, que ja en van b\u00e9. Aqu\u00ed haurem d\u2019indicar el domini personalitzat que hem escollit abans i despr\u00e9s introdu\u00efr la contrasenya. Instal\u00b7lem apt install libpam-ldap . Si el client no es pot validar al domini, apart de comprovar els arxius de configuraci\u00f3 que es veuran a continuaci\u00f3 tambe farem sempre la seg\u00fcent comanda: dpkg-reconfigure ldap-auth-config . I un cop m\u00e9s podem usar les opcions per defecte. Modifiquem la configuraci\u00f3 de Name Service Switch (NSS) per incloure ldap abans d'altres m\u00e8todes de resoluci\u00f3 ( compat , files , systemd , sss ). Ara l'autenticaci\u00f3 i la gesti\u00f3 d'usuaris es basar\u00e0 primer en LDAP abans de consultar altres mecanismes locals. Aix\u00f2 permet que usuaris gestionats per LDAP puguin autenticar-se sense necessitat d'estar registrats localment a la m\u00e0quina. S'han afegit m\u00f2duls PAM per a pam_ldap.so i pam_unix.so , prioritzant l'autenticaci\u00f3 mitjan\u00e7ant LDAP. Es poden establir regles espec\u00edfiques com use_authtok i try_first_pass , que permeten reutilitzar credencials introdu\u00efdes pr\u00e8viament per a evitar haver d'introduir-les diverses vegades. S'ha afegit pam_mkhomedir.so skel=/etc/skel umask=077 , que assegura que es cre\u00ef un directori d'inici ( home ) per als usuaris que s'autentiquen mitjan\u00e7ant LDAP. Si un usuari LDAP inicia sessi\u00f3 per primer cop, el sistema crear\u00e0 autom\u00e0ticament el seu directori /home/usuari amb permisos restringits ( umask=077 ), evitant que altres usuaris puguin accedir als seus fitxers. Facilita que usuaris LDAP (o altres comptes no definits localment) puguin iniciar sessi\u00f3 introduint el seu nom d'usuari i contrasenya. Procedim a conectar-nos amb l\u2019usuari que hem creat per verificar el funcionament: GESTI\u00d3 DEL DOMINI LDAP \u00b6 Un cop tenim un domini creat hem de ser capa\u00e7os de gestinar-lo, ja sigui afegint, eliminant o modificant par\u00e0metres del mateix. Per fer-ho hem eliminat l\u2019antiga base i n\u2019hem creat una de nova amb dpkg-reconfigure slapd Un breu video per mostra el proc\u00e9s de configuraci\u00f3 pas per pas: dpkg-reconfigure.mp4 ldapsearch \u00b6 Una de les coses que podem fer per gestionar la nostra base de dades \u00e9s filtrar per \u201cuid\u201d, una de les entrades que, en principi, ha de ser \u00fanica per a cada entrada. Aix\u00f3 ens mostra totes les dades que hi ha assignades a l\u2019entrada en q\u00fcesti\u00f3. Tamb\u00e9 podem filtrar per coses m\u00e9s concretes. Podem, per exemple, filtrar per tots aquells usuaris que disposen d\u2019un objecte \u201cmail\u201d que utilitzi el domini \u201cexample.com\u201d. Si hi hagu\u00e9s objectes \u201cmail\u201d amb altres dominis no es mostrarien despr\u00e9s de fer aquesta comanda. A m\u00e9s, podem fer una cerca que ens mostre nom\u00e9s els objectes que ens interessen: En aquesta, hem afegit al final de la comanda: \u201cdn\u201d \u201ccn\u201d i \u201cmail\u201d com als \u00fanics camps que volem rebre de la cerca. Afegir dades \u00b6 Primera opci\u00f3 per afegir dades \u00b6 Afegim la base de dades al domini, que afegeix dos \u201cou\u201d o unitats organitzatives: una per als grup i una altra per als usuaris. Tamb\u00e9 afegeix m\u00faltiples entrades per a cada grup. Segona opci\u00f3 per afegir dades \u00b6 En aquest cas hem afegit manualment una ou a la base de dades, que es mostra juntament amb les altres dues anteriors. Com a resultat, obtenim una nova \u201cou\u201d. Ara, imaginem que les dades que hem afegit amb la segona opci\u00f3 han estat incorrectes i volem modificar-les. Podem, per exemple, cambiar \u201cl\u2019ou\u201d de manera que prova ara forma part de la \u201cou\u201d \u201cgroups\u201d. Si per exemple volem cambiar el nom de la ou \u201cprova\u201d a \u201cprovahola\u201d ho hem de fer de la seg\u00fcent forma: Aquests s\u00f3n processos que veurem m\u00e9s avant a l\u2019apartat Per Modificar Dades Esborrar dades \u00b6 Per esborra dades utilitzarem el seg\u00fcent proc\u00e9s: Despr\u00e9s d\u2019eliminar ja no tenim l\u2019entrada: Per modificar dades \u00b6 Modificar les dades \u00e9s un proc\u00e9s des del que podem afegir eliminar i modificar totes les dades sense necessitat de utilitzar una comanda individual per a cada objecte. Podem fer un fitxer .ldif per a cada objecte o dada que volem modificar o podem fer-ne un que les inclogue totes. Primer hem intentat esborrar l\u2019atribut \u201csn\u201d. Aquest ha donat error ja que el \u201csn\u201d \u00e9s un atribut obligatori i no podem deixar a \u201cabergin\u201d sense \u201csn\u201d Aix\u00ed que farem altres proves El contingut del fitxer Com a resultat, \u201cabergin\u201d t\u00e9 ara un hotmail i el seu \u201chomeDirectory\u201d ha cambiat de \u201c/home/abergin\u201d a \u201c/home/abergin0\u201d Si volem eliminar el seu mail: Ara abergin ja no t\u00e9 mail. Entorn Gr\u00e0fic - Apache Studio \u00b6 Per utilitzar Apache Studio per crear i modificar usuaris priemer hem d\u2019instalar-lo. Podem fer-ho amb la seg\u00fcent comanda: wget [https://downloads.apache.org/directory/studio/2.0.0.v20210717-M17/ApacheDirectoryStudio-2.0.0.v20210717-M17-linux.gtk.x86_64.tar.gz](https://downloads.apache.org/directory/studio/2.0.0.v20210717-M17/ApacheDirectoryStudio-2.0.0.v20210717-M17-linux.gtk.x86_64.tar.gz) tar -xvzf ApacheDirectoryStudio-2.0.0.v20210717-M17-linux.gtk.x86_64.tar.gz Creem un enlla\u00e7 simb\u00f2lic para accedir f\u00e0cilment Hem d\u2019instal\u00b7lar tamb\u00e9 el requisits per executar apache studio, ja que la MV no els t\u00e9. Obrim l\u2019aplicaci\u00f3 El seg\u00fcent pas \u00e9s crear una nova connexi\u00f3 amb el servidor, per aix\u00f2 ens dirigirem a File\u2192 *New *\u2192 LDAP Connection . Deixem \u201cSimple Authentication\u201d i emplenem les dades necess\u00e0ries amb el nostre domini i la seva contrasenya. Ara ja tenim la connexi\u00f3, per\u00f2 hem d\u2019afegir m\u00e9s entrades (Usuaris, Persones, etc) cadascuna de les quals pot tenir els seus propis atributs. A continuaci\u00f3 podem fer dues coses: Afegir una nova entrada \u201calu2\u201d \u00b6 Introdu\u00efm el nostre domini, que \u00e9s a trav\u00e9s del que ens conectarem a l\u2019usuari Ens demana afegir les classes d\u2019objecte, introdu\u00efm les que es poden veure a continuaci\u00f3 a l\u2019apartat dret (concretament a \u201cSelected object classes\u201d). Com a parent tornem a introdu\u00efr el nostre domini i, a l\u2019opci\u00f3 \u201cRDN\u201d, escollim \u201ccn\u201d = \u201calu2\u201d. Aix\u00f2 \u00e9s l\u2019identificador propi de l\u2019usuari que estem creant i el que realment utilitzarem per conectar-nos a trav\u00e9s d\u2019ldap En cas que sigui necessari, afegim m\u00e9s atributs per al nou usuari (o entrada) com: mail, HomeDirectory, etc. Haur\u00edem d\u2019afegir m\u00e9s atributs, per anar b\u00e9 almenys els mateixos que t\u00e9 \u201calu1\u201d. Un cop creat l\u2019usuari ja haur\u00edem de ser capa\u00e7os de conectar-nos a traves d\u2019ldap al terminal Copiar l\u2019entrada ja existent de \u201calu1\u201d i cambiar les dades necess\u00e0ries \u00b6 En aquest cas nom\u00e9s hem de canviar els atributs essencials d\u2019\u201dalu1\u201d a l\u2019hora de copiar l\u2019entrada. Primer la copiem. Desp\u0155es fariem \u201cPaste\u201d i ens apareixeria aquesta opci\u00f3: Seleccionem \u201cRename entry and continue\u201d i canviem el uid, jo he ficat \u201calu2\u201d. Aix\u00ed ha quedat \u201calu2\u201d despr\u00e9s de copiar-la i fer els canvis a \u201csn, cn, homeDirectory, uid, uidNumber\u201d: Un cop afegit el\u2019usuari ja podem conectar-nos amb \u201calu2\u201d. COMPARTIR RECURSOS \u00b6 SAMBA \u00b6 Amb un servidor Samba, es necessita una autenticaci\u00f3 d\u2019usuari i pot no nom\u00e9s compartir fitxers i carpetes si b\u00e9 tamb\u00e9 acc\u00e9s a impresores. Afortunadament Samba pot treballar de la m\u00e0 d\u2019LDAP, amb qui validarem els usuaris que registrem. Instal\u00b7laci\u00f3 del servidor \u00b6 Primer instal\u00b7lem samba amb apt install samba . Despr\u00e9s ens dirigirem al fitxer seg\u00fcent, que modificarem amb els seg\u00fcents parametres (Ho afegirem tot al final del fitxer): Comanda per modificar el fitxer: nano /etc/samba/smb.conf + Parametres a introdu\u00efr. [perfils] path = /perfils guest ok = yes directory mask = 0755 create mask = 0644 browseable = yes read list = @dam write list = raul invalid users = enric Per aplicar els canvis hem de reiniciar el servei samb amb les comandes systemctl restart smbd nmbd i systemctl status smbd nmbd per comprobar el reinici i veure si s\u2019han reiniciat sense errors. Crear usuaris a Samba \u00b6 Ara, crearem els usuaris que hem definit als par\u00e0metres anteriors useradd -M -s /sbin/nologin raul useradd -M -s /sbin/nologin enric useradd -M -s /sbin/nologin walid Tamb\u00e9 crearem un grup \u201cdam\u201d amb addgroup dam i afegirem als tres usuaris al grup amb adduser <usuari> dam . adduser raul dam adduser enric dam adduser walid dam Afegir usuaris a Samba \u00b6 Per \u00faltim queda fegir els usuaris de la m\u00e0quina a Samba a traves de la comanda smbpasswd -a <usuari> i a cadasc\u00fan li ficarem la seva contrasenya. smbpasswd -a raul smbpasswd -a enric smbpasswd -a walid Client Samba \u00b6 Ara instal\u00b7larem el client amb apt install smbclient . Obrim l\u2019explorador de fitxers, a l\u2019opci\u00f3 \u201cOtras ubicaciones\u201d. Buscarem la carpeta /perfils compartida amb l\u2019adre\u00e7a smb://<ipservidor>/perfils. En aquest cas smb://10.0.2.5/perfils . Provem a entrar de forma an\u00f2nima, hauriem de ser capa\u00e7os, tal i com hem establert al fitxer anterior. Per\u00f2 no podem afegir fitxers/carpetes. Si accedim amb \u201craul\u201d que no tenia cap restricci\u00f3 podrem afegir tant fitxers com carpetes. Si fem un ls -l a la terminal desde el server, podrem veure com \u201craul\u201d \u00e9s el propietari de la carpeta. Si provem en la resta d\u2019usuaris veurem que: \u201cenric\u201d no pots ni tan sols accedir tal i com hem especificat. Nota: Podem intentar accedir les vegades que vulguem, sempre tornarem a aquesta finestra. Walid pot accedir per\u00f2 no pot crear res. Servidor NFS \u00b6 Tants servidor samba com NFS serveixen per compratir recursos. NFS permet fer auth en usuari per\u00f2 amb kerberos, i \u00e9s tant dif\u00edcil que \u00e9s millor utilitzar samba. Primer instal\u00b7lem els paquets necessaris amb apt install nfs-kernel-server per utilitzar la funci\u00f3 i preparem la carpeta on es concectaran tant el nostre windows com l\u2019ubuntu. Afegim una linia per indicar la carpeta compartida al arxiu /etc/exports . Reiniciem el servei per aplicar els canvis. Configuracio del clients \u00b6 Ara instal\u00b7lem el paquet necessari per muntar la carpeta compartida al nostre ubuntu, contr\u00e0riament no podrem afegir res ni fer servir la carpeta compartida. Ara, hem de crear una carpeta que apuntara a la carpeta que es comparteix entre els sistemes i muntarla a la ip del servidor amb la seva ruta. Des de la m\u00e0quina Windows hem d\u2019accedir a les caracter\u00edstiques del sistema per activar l\u2019opci\u00f3 \u201cServicios para NFS\u201d. Nota: Estem utilitzant una MV amb Windows 11 Pro. Revisar instruccions segons l\u2019idioma del sistema, ja que poden no ser 100% precises. Windows instal\u00b7lar\u00e0 autom\u00e0ticament els recursos necessaris. Finalment per accedir a la carpeta compartida, nom\u00e9s hem d\u2019escriure: \\\\serverIp\\DirectoryName , en el meu cas \u00e9s \\\\10.0.2.5\\compartida . Aqui veurem tots els fitxer que creem a l\u2019ubuntu o al windows, en tots dos sistemes. Finalment podem veure com el fitxer windows.txt, que hem creat al sistema Windows, apareix a la carpeta desde el sistema ubuntu. PERFILS M\u00d2BILS AMB LDAP \u00b6 Part server \u00b6 Per fer-ho amb NFS, necessitem instal\u00b7lar el seg\u00fcent paquet Creem la carpeta on es compartir\u00e0n els fitxers. Afegim la \u00faltima linia, que indica al sistema la ruta de la carpeta a compartir (que al meteix temps sera la home del usuaris que afegim). I reiniciem el servei per aplicar els canvis. Seguidament haurem de crear un grup i un usuari, ho farem amb els seg\u00fcents fitxers i par\u00e0metres: Aqu\u00ed creem el grup al que en formar\u00e0 part l\u2019usuari. Aqu\u00ed creem l\u2019usuari amb tots els seus par\u00e0metres (poden afegir-se\u2019n m\u00e9s). Podem veure que l\u2019usuari utilitza /perfils/alu54 al seu par\u00e0metre \u201chomeDirectory\u201d \u00e9s aix\u00f2 el que li diu a LDAP quina \u00e9s la seva \u201chome\u201d o \u201ccarpeta arrel de l\u2019usuari\u201d que, com veurem m\u00e9s avant, \u00e9s una carpeta local que apunta a una carpeta compartida. Un cop emplenats, els afegim a LDAP amb la comanda : ldapadd -c -x -D \u201cel nostre domini LDAP\u201d -W -f fitxer.ldif en el meu cas: ldapadd -c -x -D \"cn=admin,dc=joel,dc=com\" -W -f fitxer.ldif Nota: Es destaca que; fitxer.ldif fa refer\u00e8ncia a l\u2019usuri o grup que volem afegir que, com hem vist, tenen fitxers diferents. Part client \u00b6 Ja nom\u00e9s ens queda configurar els usuaris a la m\u00e0quina client. Instal\u00b7lem paquets necessaris. Creem una carpeta que servir\u00e0 tamb\u00e9 per muntar la carpeta compartida al damunt (li fiquem el mateix nom per saber que a efectes pr\u00e0ctics son la mateixa carpeta) on emmagatzemarem els fitxers i directoris personals dels usuaris. i al fitxer /etc/fstab afegim l\u2019\u00faltima linia, que \u00e9s la que indica on s\u2019ha de muntar la carpeta local i amb quina ip (la del servidor) seguida d\u2019alguns par\u00e0metres necessaris pel correcte funcionament. Finalment si reiniciem el client i intentem llistar-nos amb l\u2019usuari i la contrasenya que hem especificat, podrem utilitzar l\u2019usuari alu54 (en aquest cas) a qualsevol m\u00e0quina en qui estigui conectat el sistema. \u201chola\u201d \u00e9s el fitxer que creem desde el client. Finalment, des del server comprovem que s\u2019ha creat la carpeta \u201calu54\u201d a /perfils , \u00e9s a dir, la seva home. I com aquesta te el fitxer \u201chola\u201d que acabem de crear.","title":"Sprint 3 | Gesti\u00f3 de Dominis i Accessos"},{"location":"Sprint3/Sprint3/#sprint-3","text":"","title":"Sprint 3"},{"location":"Sprint3/Sprint3/#installacio-del-domini-ldap","text":"Primer canviem el hostname i afegim el nom del domini que estarem utilitzant durant la manipulaci\u00f3 del ldap. Ara, instal\u00b7lem els recursos necessaris per utilitzar l\u2019ldap i configurem una contrasenya. Per fer la base del domini hi ha dos opcions: fer-ho a trav\u00e9s dels arxius base .ldif fer-ho a trav\u00e9s d\u2019una comanda (la que utilitzarem nosaltres) Durant el proc\u00e9s seleccionem gaireb\u00e9 totes les opcions per defecte, ja que per al que volem fer, \u00e9s m\u00e9s que suficient. Finalment veiem com amb la comanda slapcat sen\u2019s mostra el nou domini i la seva organitzaci\u00f3.","title":"INSTAL\u00b7LACI\u00d3 DEL DOMINI LDAP"},{"location":"Sprint3/Sprint3/#unir-equips-al-domini","text":"Crearem una unitat organitzativa, que es un contenidor dins del directori per guardar objectes com: usuaris i grups. Creem un grup anomenat alumnes per a poder posar els usuaris creats i posem els usuaris que volem afegir a la part inferior. Ara configurem el fitxer de l\u2019usuari per a poder utilitzar-lo en la maquina client. -c fa que el ldapadd continu\u00ef executant-se encara que es produeixin errors. -x utilitza autenticaci\u00f3 simple en lloc de SASL (Simple Authentication and Security Layer). -D indica el Distinguished Name (DN) de l'usuari que realitza l'operaci\u00f3, en aquest cas, l'usuari administrador. -W demana la contrasenya de l'usuari especificat amb -D . Aix\u00f2 \u00e9s m\u00e9s segur que incloure la contrasenya directament a la comanda com passaria amb la -w . Executem tots els canvis i verifiquem que s\u2019han enregistrat correctament","title":"Unir equips al domini"},{"location":"Sprint3/Sprint3/#un-cop-a-la-maquina-client","text":"Instal\u00b7lem el \u201cnscd\u201d: un dimoni (programa en segon pla) que s\u2019encarrega d\u2019emmagatzemar la mem\u00f2ria cau(cache). Instal\u00b7lem tamb\u00e9 una llibreria que ens permetr\u00e0 fer la connexi\u00f3 al domini \u201cldap\u201d des del client amb apt install libnss-ldap . Fiquem la \u201cip\u201d del server (amb el format que es mostra a l\u2019imatge: ldap://server_ip ) per conectar-nos. Podem anar seleccionant tamb\u00e9 les opcions per defecte, que ja en van b\u00e9. Aqu\u00ed haurem d\u2019indicar el domini personalitzat que hem escollit abans i despr\u00e9s introdu\u00efr la contrasenya. Instal\u00b7lem apt install libpam-ldap . Si el client no es pot validar al domini, apart de comprovar els arxius de configuraci\u00f3 que es veuran a continuaci\u00f3 tambe farem sempre la seg\u00fcent comanda: dpkg-reconfigure ldap-auth-config . I un cop m\u00e9s podem usar les opcions per defecte. Modifiquem la configuraci\u00f3 de Name Service Switch (NSS) per incloure ldap abans d'altres m\u00e8todes de resoluci\u00f3 ( compat , files , systemd , sss ). Ara l'autenticaci\u00f3 i la gesti\u00f3 d'usuaris es basar\u00e0 primer en LDAP abans de consultar altres mecanismes locals. Aix\u00f2 permet que usuaris gestionats per LDAP puguin autenticar-se sense necessitat d'estar registrats localment a la m\u00e0quina. S'han afegit m\u00f2duls PAM per a pam_ldap.so i pam_unix.so , prioritzant l'autenticaci\u00f3 mitjan\u00e7ant LDAP. Es poden establir regles espec\u00edfiques com use_authtok i try_first_pass , que permeten reutilitzar credencials introdu\u00efdes pr\u00e8viament per a evitar haver d'introduir-les diverses vegades. S'ha afegit pam_mkhomedir.so skel=/etc/skel umask=077 , que assegura que es cre\u00ef un directori d'inici ( home ) per als usuaris que s'autentiquen mitjan\u00e7ant LDAP. Si un usuari LDAP inicia sessi\u00f3 per primer cop, el sistema crear\u00e0 autom\u00e0ticament el seu directori /home/usuari amb permisos restringits ( umask=077 ), evitant que altres usuaris puguin accedir als seus fitxers. Facilita que usuaris LDAP (o altres comptes no definits localment) puguin iniciar sessi\u00f3 introduint el seu nom d'usuari i contrasenya. Procedim a conectar-nos amb l\u2019usuari que hem creat per verificar el funcionament:","title":"Un cop a la maquina client"},{"location":"Sprint3/Sprint3/#gestio-del-domini-ldap","text":"Un cop tenim un domini creat hem de ser capa\u00e7os de gestinar-lo, ja sigui afegint, eliminant o modificant par\u00e0metres del mateix. Per fer-ho hem eliminat l\u2019antiga base i n\u2019hem creat una de nova amb dpkg-reconfigure slapd Un breu video per mostra el proc\u00e9s de configuraci\u00f3 pas per pas: dpkg-reconfigure.mp4","title":"GESTI\u00d3 DEL DOMINI LDAP"},{"location":"Sprint3/Sprint3/#ldapsearch","text":"Una de les coses que podem fer per gestionar la nostra base de dades \u00e9s filtrar per \u201cuid\u201d, una de les entrades que, en principi, ha de ser \u00fanica per a cada entrada. Aix\u00f3 ens mostra totes les dades que hi ha assignades a l\u2019entrada en q\u00fcesti\u00f3. Tamb\u00e9 podem filtrar per coses m\u00e9s concretes. Podem, per exemple, filtrar per tots aquells usuaris que disposen d\u2019un objecte \u201cmail\u201d que utilitzi el domini \u201cexample.com\u201d. Si hi hagu\u00e9s objectes \u201cmail\u201d amb altres dominis no es mostrarien despr\u00e9s de fer aquesta comanda. A m\u00e9s, podem fer una cerca que ens mostre nom\u00e9s els objectes que ens interessen: En aquesta, hem afegit al final de la comanda: \u201cdn\u201d \u201ccn\u201d i \u201cmail\u201d com als \u00fanics camps que volem rebre de la cerca.","title":"ldapsearch"},{"location":"Sprint3/Sprint3/#afegir-dades","text":"","title":"Afegir dades"},{"location":"Sprint3/Sprint3/#primera-opcio-per-afegir-dades","text":"Afegim la base de dades al domini, que afegeix dos \u201cou\u201d o unitats organitzatives: una per als grup i una altra per als usuaris. Tamb\u00e9 afegeix m\u00faltiples entrades per a cada grup.","title":"Primera opci\u00f3 per afegir dades"},{"location":"Sprint3/Sprint3/#segona-opcio-per-afegir-dades","text":"En aquest cas hem afegit manualment una ou a la base de dades, que es mostra juntament amb les altres dues anteriors. Com a resultat, obtenim una nova \u201cou\u201d. Ara, imaginem que les dades que hem afegit amb la segona opci\u00f3 han estat incorrectes i volem modificar-les. Podem, per exemple, cambiar \u201cl\u2019ou\u201d de manera que prova ara forma part de la \u201cou\u201d \u201cgroups\u201d. Si per exemple volem cambiar el nom de la ou \u201cprova\u201d a \u201cprovahola\u201d ho hem de fer de la seg\u00fcent forma: Aquests s\u00f3n processos que veurem m\u00e9s avant a l\u2019apartat Per Modificar Dades","title":"Segona opci\u00f3 per afegir dades"},{"location":"Sprint3/Sprint3/#esborrar-dades","text":"Per esborra dades utilitzarem el seg\u00fcent proc\u00e9s: Despr\u00e9s d\u2019eliminar ja no tenim l\u2019entrada:","title":"Esborrar dades"},{"location":"Sprint3/Sprint3/#per-modificar-dades","text":"Modificar les dades \u00e9s un proc\u00e9s des del que podem afegir eliminar i modificar totes les dades sense necessitat de utilitzar una comanda individual per a cada objecte. Podem fer un fitxer .ldif per a cada objecte o dada que volem modificar o podem fer-ne un que les inclogue totes. Primer hem intentat esborrar l\u2019atribut \u201csn\u201d. Aquest ha donat error ja que el \u201csn\u201d \u00e9s un atribut obligatori i no podem deixar a \u201cabergin\u201d sense \u201csn\u201d Aix\u00ed que farem altres proves El contingut del fitxer Com a resultat, \u201cabergin\u201d t\u00e9 ara un hotmail i el seu \u201chomeDirectory\u201d ha cambiat de \u201c/home/abergin\u201d a \u201c/home/abergin0\u201d Si volem eliminar el seu mail: Ara abergin ja no t\u00e9 mail.","title":"Per modificar dades"},{"location":"Sprint3/Sprint3/#entorn-grafic-apache-studio","text":"Per utilitzar Apache Studio per crear i modificar usuaris priemer hem d\u2019instalar-lo. Podem fer-ho amb la seg\u00fcent comanda: wget [https://downloads.apache.org/directory/studio/2.0.0.v20210717-M17/ApacheDirectoryStudio-2.0.0.v20210717-M17-linux.gtk.x86_64.tar.gz](https://downloads.apache.org/directory/studio/2.0.0.v20210717-M17/ApacheDirectoryStudio-2.0.0.v20210717-M17-linux.gtk.x86_64.tar.gz) tar -xvzf ApacheDirectoryStudio-2.0.0.v20210717-M17-linux.gtk.x86_64.tar.gz Creem un enlla\u00e7 simb\u00f2lic para accedir f\u00e0cilment Hem d\u2019instal\u00b7lar tamb\u00e9 el requisits per executar apache studio, ja que la MV no els t\u00e9. Obrim l\u2019aplicaci\u00f3 El seg\u00fcent pas \u00e9s crear una nova connexi\u00f3 amb el servidor, per aix\u00f2 ens dirigirem a File\u2192 *New *\u2192 LDAP Connection . Deixem \u201cSimple Authentication\u201d i emplenem les dades necess\u00e0ries amb el nostre domini i la seva contrasenya. Ara ja tenim la connexi\u00f3, per\u00f2 hem d\u2019afegir m\u00e9s entrades (Usuaris, Persones, etc) cadascuna de les quals pot tenir els seus propis atributs. A continuaci\u00f3 podem fer dues coses:","title":"Entorn Gr\u00e0fic - Apache Studio"},{"location":"Sprint3/Sprint3/#afegir-una-nova-entrada-alu2","text":"Introdu\u00efm el nostre domini, que \u00e9s a trav\u00e9s del que ens conectarem a l\u2019usuari Ens demana afegir les classes d\u2019objecte, introdu\u00efm les que es poden veure a continuaci\u00f3 a l\u2019apartat dret (concretament a \u201cSelected object classes\u201d). Com a parent tornem a introdu\u00efr el nostre domini i, a l\u2019opci\u00f3 \u201cRDN\u201d, escollim \u201ccn\u201d = \u201calu2\u201d. Aix\u00f2 \u00e9s l\u2019identificador propi de l\u2019usuari que estem creant i el que realment utilitzarem per conectar-nos a trav\u00e9s d\u2019ldap En cas que sigui necessari, afegim m\u00e9s atributs per al nou usuari (o entrada) com: mail, HomeDirectory, etc. Haur\u00edem d\u2019afegir m\u00e9s atributs, per anar b\u00e9 almenys els mateixos que t\u00e9 \u201calu1\u201d. Un cop creat l\u2019usuari ja haur\u00edem de ser capa\u00e7os de conectar-nos a traves d\u2019ldap al terminal","title":"Afegir una nova entrada \u201calu2\u201d"},{"location":"Sprint3/Sprint3/#copiar-lentrada-ja-existent-de-alu1-i-cambiar-les-dades-necessaries","text":"En aquest cas nom\u00e9s hem de canviar els atributs essencials d\u2019\u201dalu1\u201d a l\u2019hora de copiar l\u2019entrada. Primer la copiem. Desp\u0155es fariem \u201cPaste\u201d i ens apareixeria aquesta opci\u00f3: Seleccionem \u201cRename entry and continue\u201d i canviem el uid, jo he ficat \u201calu2\u201d. Aix\u00ed ha quedat \u201calu2\u201d despr\u00e9s de copiar-la i fer els canvis a \u201csn, cn, homeDirectory, uid, uidNumber\u201d: Un cop afegit el\u2019usuari ja podem conectar-nos amb \u201calu2\u201d.","title":"Copiar l\u2019entrada ja existent de \u201calu1\u201d i cambiar les dades necess\u00e0ries"},{"location":"Sprint3/Sprint3/#compartir-recursos","text":"","title":"COMPARTIR RECURSOS"},{"location":"Sprint3/Sprint3/#samba","text":"Amb un servidor Samba, es necessita una autenticaci\u00f3 d\u2019usuari i pot no nom\u00e9s compartir fitxers i carpetes si b\u00e9 tamb\u00e9 acc\u00e9s a impresores. Afortunadament Samba pot treballar de la m\u00e0 d\u2019LDAP, amb qui validarem els usuaris que registrem.","title":"SAMBA"},{"location":"Sprint3/Sprint3/#installacio-del-servidor","text":"Primer instal\u00b7lem samba amb apt install samba . Despr\u00e9s ens dirigirem al fitxer seg\u00fcent, que modificarem amb els seg\u00fcents parametres (Ho afegirem tot al final del fitxer): Comanda per modificar el fitxer: nano /etc/samba/smb.conf + Parametres a introdu\u00efr. [perfils] path = /perfils guest ok = yes directory mask = 0755 create mask = 0644 browseable = yes read list = @dam write list = raul invalid users = enric Per aplicar els canvis hem de reiniciar el servei samb amb les comandes systemctl restart smbd nmbd i systemctl status smbd nmbd per comprobar el reinici i veure si s\u2019han reiniciat sense errors.","title":"Instal\u00b7laci\u00f3 del servidor"},{"location":"Sprint3/Sprint3/#crear-usuaris-a-samba","text":"Ara, crearem els usuaris que hem definit als par\u00e0metres anteriors useradd -M -s /sbin/nologin raul useradd -M -s /sbin/nologin enric useradd -M -s /sbin/nologin walid Tamb\u00e9 crearem un grup \u201cdam\u201d amb addgroup dam i afegirem als tres usuaris al grup amb adduser <usuari> dam . adduser raul dam adduser enric dam adduser walid dam","title":"Crear usuaris a Samba"},{"location":"Sprint3/Sprint3/#afegir-usuaris-a-samba","text":"Per \u00faltim queda fegir els usuaris de la m\u00e0quina a Samba a traves de la comanda smbpasswd -a <usuari> i a cadasc\u00fan li ficarem la seva contrasenya. smbpasswd -a raul smbpasswd -a enric smbpasswd -a walid","title":"Afegir usuaris a Samba"},{"location":"Sprint3/Sprint3/#client-samba","text":"Ara instal\u00b7larem el client amb apt install smbclient . Obrim l\u2019explorador de fitxers, a l\u2019opci\u00f3 \u201cOtras ubicaciones\u201d. Buscarem la carpeta /perfils compartida amb l\u2019adre\u00e7a smb://<ipservidor>/perfils. En aquest cas smb://10.0.2.5/perfils . Provem a entrar de forma an\u00f2nima, hauriem de ser capa\u00e7os, tal i com hem establert al fitxer anterior. Per\u00f2 no podem afegir fitxers/carpetes. Si accedim amb \u201craul\u201d que no tenia cap restricci\u00f3 podrem afegir tant fitxers com carpetes. Si fem un ls -l a la terminal desde el server, podrem veure com \u201craul\u201d \u00e9s el propietari de la carpeta. Si provem en la resta d\u2019usuaris veurem que: \u201cenric\u201d no pots ni tan sols accedir tal i com hem especificat. Nota: Podem intentar accedir les vegades que vulguem, sempre tornarem a aquesta finestra. Walid pot accedir per\u00f2 no pot crear res.","title":"Client Samba"},{"location":"Sprint3/Sprint3/#servidor-nfs","text":"Tants servidor samba com NFS serveixen per compratir recursos. NFS permet fer auth en usuari per\u00f2 amb kerberos, i \u00e9s tant dif\u00edcil que \u00e9s millor utilitzar samba. Primer instal\u00b7lem els paquets necessaris amb apt install nfs-kernel-server per utilitzar la funci\u00f3 i preparem la carpeta on es concectaran tant el nostre windows com l\u2019ubuntu. Afegim una linia per indicar la carpeta compartida al arxiu /etc/exports . Reiniciem el servei per aplicar els canvis.","title":"Servidor NFS"},{"location":"Sprint3/Sprint3/#configuracio-del-clients","text":"Ara instal\u00b7lem el paquet necessari per muntar la carpeta compartida al nostre ubuntu, contr\u00e0riament no podrem afegir res ni fer servir la carpeta compartida. Ara, hem de crear una carpeta que apuntara a la carpeta que es comparteix entre els sistemes i muntarla a la ip del servidor amb la seva ruta. Des de la m\u00e0quina Windows hem d\u2019accedir a les caracter\u00edstiques del sistema per activar l\u2019opci\u00f3 \u201cServicios para NFS\u201d. Nota: Estem utilitzant una MV amb Windows 11 Pro. Revisar instruccions segons l\u2019idioma del sistema, ja que poden no ser 100% precises. Windows instal\u00b7lar\u00e0 autom\u00e0ticament els recursos necessaris. Finalment per accedir a la carpeta compartida, nom\u00e9s hem d\u2019escriure: \\\\serverIp\\DirectoryName , en el meu cas \u00e9s \\\\10.0.2.5\\compartida . Aqui veurem tots els fitxer que creem a l\u2019ubuntu o al windows, en tots dos sistemes. Finalment podem veure com el fitxer windows.txt, que hem creat al sistema Windows, apareix a la carpeta desde el sistema ubuntu.","title":"Configuracio del clients"},{"location":"Sprint3/Sprint3/#perfils-mobils-amb-ldap","text":"","title":"PERFILS M\u00d2BILS AMB LDAP"},{"location":"Sprint3/Sprint3/#part-server","text":"Per fer-ho amb NFS, necessitem instal\u00b7lar el seg\u00fcent paquet Creem la carpeta on es compartir\u00e0n els fitxers. Afegim la \u00faltima linia, que indica al sistema la ruta de la carpeta a compartir (que al meteix temps sera la home del usuaris que afegim). I reiniciem el servei per aplicar els canvis. Seguidament haurem de crear un grup i un usuari, ho farem amb els seg\u00fcents fitxers i par\u00e0metres: Aqu\u00ed creem el grup al que en formar\u00e0 part l\u2019usuari. Aqu\u00ed creem l\u2019usuari amb tots els seus par\u00e0metres (poden afegir-se\u2019n m\u00e9s). Podem veure que l\u2019usuari utilitza /perfils/alu54 al seu par\u00e0metre \u201chomeDirectory\u201d \u00e9s aix\u00f2 el que li diu a LDAP quina \u00e9s la seva \u201chome\u201d o \u201ccarpeta arrel de l\u2019usuari\u201d que, com veurem m\u00e9s avant, \u00e9s una carpeta local que apunta a una carpeta compartida. Un cop emplenats, els afegim a LDAP amb la comanda : ldapadd -c -x -D \u201cel nostre domini LDAP\u201d -W -f fitxer.ldif en el meu cas: ldapadd -c -x -D \"cn=admin,dc=joel,dc=com\" -W -f fitxer.ldif Nota: Es destaca que; fitxer.ldif fa refer\u00e8ncia a l\u2019usuri o grup que volem afegir que, com hem vist, tenen fitxers diferents.","title":"Part server"},{"location":"Sprint3/Sprint3/#part-client","text":"Ja nom\u00e9s ens queda configurar els usuaris a la m\u00e0quina client. Instal\u00b7lem paquets necessaris. Creem una carpeta que servir\u00e0 tamb\u00e9 per muntar la carpeta compartida al damunt (li fiquem el mateix nom per saber que a efectes pr\u00e0ctics son la mateixa carpeta) on emmagatzemarem els fitxers i directoris personals dels usuaris. i al fitxer /etc/fstab afegim l\u2019\u00faltima linia, que \u00e9s la que indica on s\u2019ha de muntar la carpeta local i amb quina ip (la del servidor) seguida d\u2019alguns par\u00e0metres necessaris pel correcte funcionament. Finalment si reiniciem el client i intentem llistar-nos amb l\u2019usuari i la contrasenya que hem especificat, podrem utilitzar l\u2019usuari alu54 (en aquest cas) a qualsevol m\u00e0quina en qui estigui conectat el sistema. \u201chola\u201d \u00e9s el fitxer que creem desde el client. Finalment, des del server comprovem que s\u2019ha creat la carpeta \u201calu54\u201d a /perfils , \u00e9s a dir, la seva home. I com aquesta te el fitxer \u201chola\u201d que acabem de crear.","title":"Part client"},{"location":"Sprint4/Sprint4/","text":"Sprint 4: Monitoritzaci\u00f3, connexi\u00f3 remota i llicenciament \u00b6 Gestionar un equip en diferent xarxa (amb Team Viewer) \u00b6 El primer pas ser\u00e0 descarregar Team viewer desde la seva p\u00e0gina oficial . Quan haguem acceptat totes les condicions, arribarem a la p\u00e0gina principal. Nota: \u00e9s necessari que els dos equips tinguin TeamViewer per utilitzar el servei. Abans de procedir, haurem de crear i verificar un compte (o utilitzar-ne un del que disposem) per motius de seguretat de l\u2019aplicaci\u00f3. Ara nom\u00e9s necessitem repetir el proc\u00e9s amb l\u2019equip al que volem conectar-nos. Un cop situats tots dos en la p\u00e0gina principal, introduirem l\u2019ID de l\u2019equip que volem controlar remotament al recuadre \u201cInsert partner ID\u201d de l\u2019equip que volem usar per controlar-lo . Per \u00faltim ens demanar\u00e0 la contrasenya per de l\u2019equip al que ens volem conectar. Nota: en l\u2019imatge de la pantalla principal, \u00e9s el camp tapat en negre. Sempre est\u00e0 al descobert aix\u00ed que s\u2019ha d\u2019anar amb cura. Ara ja ens hem conectat a la maquina virtual amb la m\u00e0quina principal i la podem controlar des de qualsevol lloc. Conclusi\u00f3 \u00b6 Aix\u00f2, en esc\u00e8ncia, permet controlar equips de forma remota a qualsevol dist\u00e0ncia. Les aplicacions son molt diverses, tant per \u00fas personal amb algun amic/familiar com per \u00fas professional amb algun empleat o company de feina. Tot i aix\u00ed pot esdevenir una eina molt perillosa si es filtren les credencials, aix\u00ed que s\u2019ha de tenir compte i evitar donar-les a qualsevol que les demani. Logs del sistema i aplicacions \u00b6 Per monitoritzar un sistema ubuntu sutilitzen usn fitxers anomenats \u201clogs\u201d, hi ha propis del os i hi ha apps que tenen els seus propis, nosaltres establirem interpretacions de logs per fer proves amb aquests . Quan parlem de logs hi ha diversos tipus, segons l\u2019aplicaci\u00f3, servei\u2026 en aquesta pr\u00e0ctica veurem com modificar les interpretacions del sistema aconseguint aix\u00ed diverses \u201cinteraccions\u201d entre els diferents logs. Aquesta \u00e9s la jerarquia que segueixen els logs segons el nivell d\u2019alerta. 0 Emergency 1 Alert 2 Critical 3 Error 4 Warning 5 Notice 6 Informational 7 Debug A la ruta /var/log es mostren tots els logs que es generen autom\u00e0ticament pel sistema i algunes instal\u00b7lacions. Tot i aix\u00ed cal destacar que no tenen per que estar situats aqu\u00ed i poden haver-hi m\u00e9s en altres directoris del sistema. En el fitxer /etc/rsyslog.d/50-defaul.conf podem modificar les interpretacions per tal de decidir quins logs es mostren (o no) al seu fitxer assignat corresponent. Important: Si modifiquem el fixter, hem de reiniciar tabm\u00e9 el servei dels logs amb systemctl restart rsyslog . Si no, els canvis no s\u2019aplicaran fins que reiniciem el sistema, cosa que pot portar problemes i confusi\u00f3. Rebrem un av\u00eds, per\u00f2 \u00e9s normal podem ignorar-lo. Proves amb logs \u00b6 En la pr\u00f2xima imatge veurem com fem un logger -p auth.info \"logger fictici\" . Aquesta comanda serveix per generar una entrada inventada amb les caracter\u00edstiques especificades, en aquest cas de tipus auth.info. Amb aix\u00f2 podem comprovar si la interpretaci\u00f3 que hem especificat serveix per mostrar o amagar els logs en q\u00fcesti\u00f3, cosa que comprovarem despr\u00e9s al fitxer on aquesta interpretaci\u00f3 estigui especificada. La terminal de baix mostra TOTS els logs, amb l\u2019objectiu de verificar que no hi ha hagut cap error i que el log ha funcionat correctament independentment de la prova que vulguem fer. De moment no hem especficicat cap interpretaci\u00f3. Per defecte, el log que hem creat hauria d\u2019apar\u00e8ixer al fitxer /var/log/auth.log , podem comprovar-ho amb un tail -1 auth.log . Ara establirem una interpretaci\u00f3 al mateix fitxer per tal que nom\u00e9s llegeixi logs de nivell 2 cap a dalt (Nivell alerta entre 2 i 0 inclosos). Per fer-ho, hem modificat la linia superior de la imatge, que fa refer\u00e8ncia a les interpretacions del fitxer auth.log . Abans: auth,authpriv.* Ara: auth,authpriv.crit Com podem veure, el resultat no \u00e9s el log que hem especificat, ja que aquest \u00e9s de nivell 6 i el fitxer no el registra. I si ens fixem amb el fitxer /var/log/syslog amb un tail -f , podem veure com si es registra. Rotaci\u00f3 de logs \u00b6 Per \u00faltim tenim la rotaci\u00f3 de logs. La rotaci\u00f3 de logs \u00e9s un proc\u00e9s autom\u00e0tic que arxiva, esborra o comprimeix els logs antics per evitar que ocupin massa espai al sistema. Hi ha una configuraci\u00f3 predeterminada que gestiona autom\u00e0ticament els logs per tal que no ocupin massa espai, es troba al directori /etc/logrotate.d . \u201cjournalctl\u201d \u00b6 La comanda journalctl serveix per revisar logs. \u00c9s cert que es pot utilitzar un cat sobre un fitxer.log espec\u00edfic per obtenir un resultat semblant i v\u00e0lid, per\u00f2 fer servir journalctl per consultar els logs del sistema t\u00e9 diversos avantatges respecte a fer un cat directament als fitxers: 1. Centralitzaci\u00f3 dels logs \u00b6 journalctl consulta el systemd journal , que unifica logs de diferents serveis i components del sistema en un sol lloc ( /var/log/journal ). En canvi, cat nom\u00e9s mostra el contingut d\u2019un \u00fanic fitxer de log, per la qual cosa has de saber exactament quin fitxer vols revisar. 2. Filtres \u00b6 journalctl permet aplicar filtres per servei ( u ), nivell de gravetat ( p ), rang de temps ( -since i -until ) , PID, i molt m\u00e9s. Amb cat , hauries d\u2019usar grep , awk , o altres eines per filtrar manualment. Per exemple, si volem veure els logs del servei que gestiona les xarxes Ethernet, WIFI, etc podem fer un journalctl -u NetworkManager Aix\u00f2 ens mostra els logs del servei i si, a m\u00e9s, volem poder veurels en temps real nomes hem d\u2019afegir un -f al final de la comanda anterior. Si preferim veure logs segons la seva gravetat fem sevir -p juntament amb la taula dels nivells d\u2019alerta esmentada anteriorment, per exemple: Amb journalctl -p 2 veurem totes les alertes de nivell 2 i m\u00e9s greu ( > 2 ). I igual que abans, si afegim un -f al final de la comanda veurem totes aquestes alertes en temps real. Tamb\u00e9 podriem voler veure les alertes generades apartir de certa data o fins a una, en aquest cas utilitzarem --since i --until : journalctl --since \u201c1 hour ago\u201d : Tamb\u00e9 podem combinar-les : journalctl --since \u201c2025-03-17 00:00:00\u201d --until \u201c2025-03-18 00:00:00\u201d Mostrar\u00e0 totes les alertes entre ahir a les 00:00 i avui a les 00:00. 3. Visualitzaci\u00f3 m\u00e9s clara \u00b6 journalctl permet mostrar els logs en format estructurat, amb sortida amb colors i paginada . cat imprimeix tot el contingut de cop, el que pot ser poc manejable si el fitxer \u00e9s molt gran. 4. Logs persistents i vol\u00e0tils \u00b6 journalctl accedeix tant als logs persistents (guardats a /var/log/journal/ ) com als vol\u00e0tils (mem\u00f2ria RAM, \u00fatils per depuraci\u00f3 immediata). cat nom\u00e9s pot llegir logs persistents. 5. Logs en temps real \u00b6 Amb journalctl -f , pots veure els logs en temps real (similar a tail -f ). Amb cat , hauries d\u2019usar tail -f manualment: 6. Informaci\u00f3 estructurada \u00b6 journalctl mostra informaci\u00f3 estructurada sobre cada entrada del log, incloent metadades com unitat systemd, PID, servei i usuari . cat nom\u00e9s mostra el text cru sense format. En resum, journalctl \u00e9s molt m\u00e9s eficient que cat sent aquest \u00faltim molt rudimentari. Compartir logs en xarxa \u00b6 Hem vist com gestionar i observar els logs del nostre sistema, per\u00f2 i si volem enviar-los a un altre sistema autom\u00e0ticament en temps real? Configurar ordinador receptor \u00b6 Primer hem de configurar l\u2019ordinador que rebr\u00e0 el logs: sudo apt update && sudo apt install rsyslog \u2192 per actualitzar paquets i instal\u00b7lar els necessaris. Ara hem de modificar la configuraci\u00f3: sudo nano /etc/rsyslog.conf \u2192 Hem de modificar el fitxer i descomentar l\u00e9s linies \u201cmodule\u201d i \u201cinput\u201d. Guardem el fitxer, sortim i reiniciem el servei amb sudo systemctl restart rsyslog . A continuaci\u00f3 hem d\u2019obrir els ports al tallafocs per evitar problemes sudo ufw allow 514/udp sudo ufw allow 514/tcp Ja tindriem el receptor configurat. Configurar ordinador emisor \u00b6 Ara configurarem l\u2019ordinador que enviar\u00e1 els logs: sudo apt update && sudo apt install rsyslog \u2192 per actualitzar paquets i instal\u00b7lar els necessaris. Modifiquem la configuraci\u00f3 \u2192 sudo nano /etc/rsyslog.conf . Hem d\u2019afegir al final del fitxer les seg\u00fcents linies: **.** @IP_DEL_SERVIDOR:514 # Per UDP **.** @@IP_DEL_SERVIDOR:514 # Per TCP Guardem el fitxer, sortim i reiniciem el servei amb sudo systemctl restart rsyslog . Fem un tail -f /var/log/syslog a l\u2019ordinador receptor per vaure els logs i: Llic\u00e8nciament d\u2019un programa \u00b6 El proc\u00e9s de llicenciament d'una aplicaci\u00f3 implica escollir una llic\u00e8ncia adequada que defineixi com altres persones poden utilitzar, modificar i redistribuir el teu codi. Codi obert o privat \u00b6 Primer has de decidir si el teu programa ser\u00e0 de codi obert o privat. El codi obert permet que altres persones utilitzin, modifiquin i distribueixin el teu codi sota certes condicions. Mentre que el privat no permet l'\u00fas ni la modificaci\u00f3 del codi sense el teu perm\u00eds expl\u00edcit. Alguns exemples de llic\u00e8ncies per codi obert: \u00b6 MIT : Qualsevol pot utilitzar, modificar i distribuir el codi, fins i tot en projectes comercials, sempre que es mantingui l'av\u00eds de copyright original. Apache 2.0 : Similar a la MIT, per\u00f2 inclou una cl\u00e0usula de patents per protegir-te legalment. BSD (2 o 3 cl\u00e0usules) : Molt semblant a MIT, per\u00f2 amb restriccions addicionals en l'\u00fas del nom de l'autor. Alguns exemples de llic\u00e8ncies per codi privat: \u00b6 Llic\u00e8ncies comercials pr\u00f2pies , on nom\u00e9s tu pots distribuir i vendre el producte. Freemium : On una part del teu programari \u00e9s gratu\u00efta, per\u00f2 certes funcionalitats s\u00f3n de pagament. Llic\u00e8ncia d'\u00fas restringit , on els usuaris poden utilitzar l'aplicaci\u00f3 per\u00f2 sense acc\u00e9s al codi font. Guies per triar llic\u00e8ncies \u00b6 Els textos de les llic\u00e8ncies estan predefinits i es poden trobar a fonts oficials o generadors de llic\u00e8ncies. Alguns llocs recomanats: Choose a License \u2192 Guia de GitHub per escollir una llic\u00e8ncia i obtenir el text oficial. (La que utilitzarem com a exemple). Open Source Initiative \u2192 Llista de llic\u00e8ncies aprovades de codi obert. \u201cChoose a License\u201d \u00b6 Choosalicense.com \u00e9s una p\u00e0gina que t\u2019ajuda a triar el tipus de llic\u00e8ncia que hauries d\u2019escollir depenent dels requisits que tens. Nosaltres escollirem la del mig, la llic\u00e8ncia MIT o \u201cMIT License\u201d. Podem clickar damunnt de l\u2019imatge central. Click en la imatge per anar al lloc. Com ja he mencionat, utilitzar-la \u00e9s tan senzill com afegir un fitxer LICENSE a l\u2019arrel del projecte que contingui el text en pantalla. Tamb\u00e9 tenim una s\u00e8rie d\u2019indicadors que ens mostren les condicions que accpetem tant nosaltres com la resta d\u2019usuaris al utilitzar la llic\u00e8ncia, podem situar el cursor al damunt per veure una explicai\u00f3 m\u00e9s detallada. Un cop escolida la llic\u00e8ncia \u00b6 Afegeix un fitxer LICENSE a l'arrel del teu projecte amb el text de la llic\u00e8ncia i especifica la llic\u00e8ncia en la documentaci\u00f3 i a la teva p\u00e0gina web o repositori (GitHub, GitLab, etc.). En projectes p\u00fablics, pots afegir una nota als teus fitxers font ( // Copyright 2025 - Llic\u00e8ncia MIT ). Per exemple, si jo vull afegir la llic\u00e8ncia MIT al meu projecte d\u2019IntelliJ, genero un fitxer LICENSE.txt a l\u2019arrel i apego el text que acabem de veure: Aix\u00ed, ja tindriem la llic\u00e8ncia establerta. La p\u00e0gina, a m\u00e9s, ofereix m\u00e9s informaci\u00f3; com el tipus de llic\u00e8ncia a escollir en cas que el teu producte no sigui software, qu\u00e8 passa si no utilitzes una llic\u00e8ncia, etc. Hi ha molts requisits a l\u2019hora d\u2019establir segons quina llic\u00e8ncia a segons quin projecte. Cal aprofundir en el tema per tal d\u2019assegurar la validesa de la llic\u00e8ncia que escollim.","title":"Sprint 4 | Monitoritzaci\u00f3, connexi\u00f3 remota i llicenciament"},{"location":"Sprint4/Sprint4/#sprint-4-monitoritzacio-connexio-remota-i-llicenciament","text":"","title":"Sprint 4: Monitoritzaci\u00f3, connexi\u00f3 remota i llicenciament"},{"location":"Sprint4/Sprint4/#gestionar-un-equip-en-diferent-xarxa-amb-team-viewer","text":"El primer pas ser\u00e0 descarregar Team viewer desde la seva p\u00e0gina oficial . Quan haguem acceptat totes les condicions, arribarem a la p\u00e0gina principal. Nota: \u00e9s necessari que els dos equips tinguin TeamViewer per utilitzar el servei. Abans de procedir, haurem de crear i verificar un compte (o utilitzar-ne un del que disposem) per motius de seguretat de l\u2019aplicaci\u00f3. Ara nom\u00e9s necessitem repetir el proc\u00e9s amb l\u2019equip al que volem conectar-nos. Un cop situats tots dos en la p\u00e0gina principal, introduirem l\u2019ID de l\u2019equip que volem controlar remotament al recuadre \u201cInsert partner ID\u201d de l\u2019equip que volem usar per controlar-lo . Per \u00faltim ens demanar\u00e0 la contrasenya per de l\u2019equip al que ens volem conectar. Nota: en l\u2019imatge de la pantalla principal, \u00e9s el camp tapat en negre. Sempre est\u00e0 al descobert aix\u00ed que s\u2019ha d\u2019anar amb cura. Ara ja ens hem conectat a la maquina virtual amb la m\u00e0quina principal i la podem controlar des de qualsevol lloc.","title":"Gestionar un equip en diferent xarxa (amb Team Viewer)"},{"location":"Sprint4/Sprint4/#conclusio","text":"Aix\u00f2, en esc\u00e8ncia, permet controlar equips de forma remota a qualsevol dist\u00e0ncia. Les aplicacions son molt diverses, tant per \u00fas personal amb algun amic/familiar com per \u00fas professional amb algun empleat o company de feina. Tot i aix\u00ed pot esdevenir una eina molt perillosa si es filtren les credencials, aix\u00ed que s\u2019ha de tenir compte i evitar donar-les a qualsevol que les demani.","title":"Conclusi\u00f3"},{"location":"Sprint4/Sprint4/#logs-del-sistema-i-aplicacions","text":"Per monitoritzar un sistema ubuntu sutilitzen usn fitxers anomenats \u201clogs\u201d, hi ha propis del os i hi ha apps que tenen els seus propis, nosaltres establirem interpretacions de logs per fer proves amb aquests . Quan parlem de logs hi ha diversos tipus, segons l\u2019aplicaci\u00f3, servei\u2026 en aquesta pr\u00e0ctica veurem com modificar les interpretacions del sistema aconseguint aix\u00ed diverses \u201cinteraccions\u201d entre els diferents logs. Aquesta \u00e9s la jerarquia que segueixen els logs segons el nivell d\u2019alerta. 0 Emergency 1 Alert 2 Critical 3 Error 4 Warning 5 Notice 6 Informational 7 Debug A la ruta /var/log es mostren tots els logs que es generen autom\u00e0ticament pel sistema i algunes instal\u00b7lacions. Tot i aix\u00ed cal destacar que no tenen per que estar situats aqu\u00ed i poden haver-hi m\u00e9s en altres directoris del sistema. En el fitxer /etc/rsyslog.d/50-defaul.conf podem modificar les interpretacions per tal de decidir quins logs es mostren (o no) al seu fitxer assignat corresponent. Important: Si modifiquem el fixter, hem de reiniciar tabm\u00e9 el servei dels logs amb systemctl restart rsyslog . Si no, els canvis no s\u2019aplicaran fins que reiniciem el sistema, cosa que pot portar problemes i confusi\u00f3. Rebrem un av\u00eds, per\u00f2 \u00e9s normal podem ignorar-lo.","title":"Logs del sistema i aplicacions"},{"location":"Sprint4/Sprint4/#proves-amb-logs","text":"En la pr\u00f2xima imatge veurem com fem un logger -p auth.info \"logger fictici\" . Aquesta comanda serveix per generar una entrada inventada amb les caracter\u00edstiques especificades, en aquest cas de tipus auth.info. Amb aix\u00f2 podem comprovar si la interpretaci\u00f3 que hem especificat serveix per mostrar o amagar els logs en q\u00fcesti\u00f3, cosa que comprovarem despr\u00e9s al fitxer on aquesta interpretaci\u00f3 estigui especificada. La terminal de baix mostra TOTS els logs, amb l\u2019objectiu de verificar que no hi ha hagut cap error i que el log ha funcionat correctament independentment de la prova que vulguem fer. De moment no hem especficicat cap interpretaci\u00f3. Per defecte, el log que hem creat hauria d\u2019apar\u00e8ixer al fitxer /var/log/auth.log , podem comprovar-ho amb un tail -1 auth.log . Ara establirem una interpretaci\u00f3 al mateix fitxer per tal que nom\u00e9s llegeixi logs de nivell 2 cap a dalt (Nivell alerta entre 2 i 0 inclosos). Per fer-ho, hem modificat la linia superior de la imatge, que fa refer\u00e8ncia a les interpretacions del fitxer auth.log . Abans: auth,authpriv.* Ara: auth,authpriv.crit Com podem veure, el resultat no \u00e9s el log que hem especificat, ja que aquest \u00e9s de nivell 6 i el fitxer no el registra. I si ens fixem amb el fitxer /var/log/syslog amb un tail -f , podem veure com si es registra.","title":"Proves amb logs"},{"location":"Sprint4/Sprint4/#rotacio-de-logs","text":"Per \u00faltim tenim la rotaci\u00f3 de logs. La rotaci\u00f3 de logs \u00e9s un proc\u00e9s autom\u00e0tic que arxiva, esborra o comprimeix els logs antics per evitar que ocupin massa espai al sistema. Hi ha una configuraci\u00f3 predeterminada que gestiona autom\u00e0ticament els logs per tal que no ocupin massa espai, es troba al directori /etc/logrotate.d .","title":"Rotaci\u00f3 de logs"},{"location":"Sprint4/Sprint4/#journalctl","text":"La comanda journalctl serveix per revisar logs. \u00c9s cert que es pot utilitzar un cat sobre un fitxer.log espec\u00edfic per obtenir un resultat semblant i v\u00e0lid, per\u00f2 fer servir journalctl per consultar els logs del sistema t\u00e9 diversos avantatges respecte a fer un cat directament als fitxers:","title":"\u201cjournalctl\u201d"},{"location":"Sprint4/Sprint4/#1-centralitzacio-dels-logs","text":"journalctl consulta el systemd journal , que unifica logs de diferents serveis i components del sistema en un sol lloc ( /var/log/journal ). En canvi, cat nom\u00e9s mostra el contingut d\u2019un \u00fanic fitxer de log, per la qual cosa has de saber exactament quin fitxer vols revisar.","title":"1. Centralitzaci\u00f3 dels logs"},{"location":"Sprint4/Sprint4/#2-filtres","text":"journalctl permet aplicar filtres per servei ( u ), nivell de gravetat ( p ), rang de temps ( -since i -until ) , PID, i molt m\u00e9s. Amb cat , hauries d\u2019usar grep , awk , o altres eines per filtrar manualment. Per exemple, si volem veure els logs del servei que gestiona les xarxes Ethernet, WIFI, etc podem fer un journalctl -u NetworkManager Aix\u00f2 ens mostra els logs del servei i si, a m\u00e9s, volem poder veurels en temps real nomes hem d\u2019afegir un -f al final de la comanda anterior. Si preferim veure logs segons la seva gravetat fem sevir -p juntament amb la taula dels nivells d\u2019alerta esmentada anteriorment, per exemple: Amb journalctl -p 2 veurem totes les alertes de nivell 2 i m\u00e9s greu ( > 2 ). I igual que abans, si afegim un -f al final de la comanda veurem totes aquestes alertes en temps real. Tamb\u00e9 podriem voler veure les alertes generades apartir de certa data o fins a una, en aquest cas utilitzarem --since i --until : journalctl --since \u201c1 hour ago\u201d : Tamb\u00e9 podem combinar-les : journalctl --since \u201c2025-03-17 00:00:00\u201d --until \u201c2025-03-18 00:00:00\u201d Mostrar\u00e0 totes les alertes entre ahir a les 00:00 i avui a les 00:00.","title":"2. Filtres"},{"location":"Sprint4/Sprint4/#3-visualitzacio-mes-clara","text":"journalctl permet mostrar els logs en format estructurat, amb sortida amb colors i paginada . cat imprimeix tot el contingut de cop, el que pot ser poc manejable si el fitxer \u00e9s molt gran.","title":"3. Visualitzaci\u00f3 m\u00e9s clara"},{"location":"Sprint4/Sprint4/#4-logs-persistents-i-volatils","text":"journalctl accedeix tant als logs persistents (guardats a /var/log/journal/ ) com als vol\u00e0tils (mem\u00f2ria RAM, \u00fatils per depuraci\u00f3 immediata). cat nom\u00e9s pot llegir logs persistents.","title":"4. Logs persistents i vol\u00e0tils"},{"location":"Sprint4/Sprint4/#5-logs-en-temps-real","text":"Amb journalctl -f , pots veure els logs en temps real (similar a tail -f ). Amb cat , hauries d\u2019usar tail -f manualment:","title":"5. Logs en temps real"},{"location":"Sprint4/Sprint4/#6-informacio-estructurada","text":"journalctl mostra informaci\u00f3 estructurada sobre cada entrada del log, incloent metadades com unitat systemd, PID, servei i usuari . cat nom\u00e9s mostra el text cru sense format. En resum, journalctl \u00e9s molt m\u00e9s eficient que cat sent aquest \u00faltim molt rudimentari.","title":"6. Informaci\u00f3 estructurada"},{"location":"Sprint4/Sprint4/#compartir-logs-en-xarxa","text":"Hem vist com gestionar i observar els logs del nostre sistema, per\u00f2 i si volem enviar-los a un altre sistema autom\u00e0ticament en temps real?","title":"Compartir logs en xarxa"},{"location":"Sprint4/Sprint4/#configurar-ordinador-receptor","text":"Primer hem de configurar l\u2019ordinador que rebr\u00e0 el logs: sudo apt update && sudo apt install rsyslog \u2192 per actualitzar paquets i instal\u00b7lar els necessaris. Ara hem de modificar la configuraci\u00f3: sudo nano /etc/rsyslog.conf \u2192 Hem de modificar el fitxer i descomentar l\u00e9s linies \u201cmodule\u201d i \u201cinput\u201d. Guardem el fitxer, sortim i reiniciem el servei amb sudo systemctl restart rsyslog . A continuaci\u00f3 hem d\u2019obrir els ports al tallafocs per evitar problemes sudo ufw allow 514/udp sudo ufw allow 514/tcp Ja tindriem el receptor configurat.","title":"Configurar ordinador receptor"},{"location":"Sprint4/Sprint4/#configurar-ordinador-emisor","text":"Ara configurarem l\u2019ordinador que enviar\u00e1 els logs: sudo apt update && sudo apt install rsyslog \u2192 per actualitzar paquets i instal\u00b7lar els necessaris. Modifiquem la configuraci\u00f3 \u2192 sudo nano /etc/rsyslog.conf . Hem d\u2019afegir al final del fitxer les seg\u00fcents linies: **.** @IP_DEL_SERVIDOR:514 # Per UDP **.** @@IP_DEL_SERVIDOR:514 # Per TCP Guardem el fitxer, sortim i reiniciem el servei amb sudo systemctl restart rsyslog . Fem un tail -f /var/log/syslog a l\u2019ordinador receptor per vaure els logs i:","title":"Configurar ordinador emisor"},{"location":"Sprint4/Sprint4/#llicenciament-dun-programa","text":"El proc\u00e9s de llicenciament d'una aplicaci\u00f3 implica escollir una llic\u00e8ncia adequada que defineixi com altres persones poden utilitzar, modificar i redistribuir el teu codi.","title":"Llic\u00e8nciament d\u2019un programa"},{"location":"Sprint4/Sprint4/#codi-obert-o-privat","text":"Primer has de decidir si el teu programa ser\u00e0 de codi obert o privat. El codi obert permet que altres persones utilitzin, modifiquin i distribueixin el teu codi sota certes condicions. Mentre que el privat no permet l'\u00fas ni la modificaci\u00f3 del codi sense el teu perm\u00eds expl\u00edcit.","title":"Codi obert o privat"},{"location":"Sprint4/Sprint4/#alguns-exemples-de-llicencies-per-codi-obert","text":"MIT : Qualsevol pot utilitzar, modificar i distribuir el codi, fins i tot en projectes comercials, sempre que es mantingui l'av\u00eds de copyright original. Apache 2.0 : Similar a la MIT, per\u00f2 inclou una cl\u00e0usula de patents per protegir-te legalment. BSD (2 o 3 cl\u00e0usules) : Molt semblant a MIT, per\u00f2 amb restriccions addicionals en l'\u00fas del nom de l'autor.","title":"Alguns exemples de llic\u00e8ncies per codi obert:"},{"location":"Sprint4/Sprint4/#alguns-exemples-de-llicencies-per-codi-privat","text":"Llic\u00e8ncies comercials pr\u00f2pies , on nom\u00e9s tu pots distribuir i vendre el producte. Freemium : On una part del teu programari \u00e9s gratu\u00efta, per\u00f2 certes funcionalitats s\u00f3n de pagament. Llic\u00e8ncia d'\u00fas restringit , on els usuaris poden utilitzar l'aplicaci\u00f3 per\u00f2 sense acc\u00e9s al codi font.","title":"Alguns exemples de llic\u00e8ncies per codi privat:"},{"location":"Sprint4/Sprint4/#guies-per-triar-llicencies","text":"Els textos de les llic\u00e8ncies estan predefinits i es poden trobar a fonts oficials o generadors de llic\u00e8ncies. Alguns llocs recomanats: Choose a License \u2192 Guia de GitHub per escollir una llic\u00e8ncia i obtenir el text oficial. (La que utilitzarem com a exemple). Open Source Initiative \u2192 Llista de llic\u00e8ncies aprovades de codi obert.","title":"Guies per triar llic\u00e8ncies"},{"location":"Sprint4/Sprint4/#choose-a-license","text":"Choosalicense.com \u00e9s una p\u00e0gina que t\u2019ajuda a triar el tipus de llic\u00e8ncia que hauries d\u2019escollir depenent dels requisits que tens. Nosaltres escollirem la del mig, la llic\u00e8ncia MIT o \u201cMIT License\u201d. Podem clickar damunnt de l\u2019imatge central. Click en la imatge per anar al lloc. Com ja he mencionat, utilitzar-la \u00e9s tan senzill com afegir un fitxer LICENSE a l\u2019arrel del projecte que contingui el text en pantalla. Tamb\u00e9 tenim una s\u00e8rie d\u2019indicadors que ens mostren les condicions que accpetem tant nosaltres com la resta d\u2019usuaris al utilitzar la llic\u00e8ncia, podem situar el cursor al damunt per veure una explicai\u00f3 m\u00e9s detallada.","title":"\u201cChoose a License\u201d"},{"location":"Sprint4/Sprint4/#un-cop-escolida-la-llicencia","text":"Afegeix un fitxer LICENSE a l'arrel del teu projecte amb el text de la llic\u00e8ncia i especifica la llic\u00e8ncia en la documentaci\u00f3 i a la teva p\u00e0gina web o repositori (GitHub, GitLab, etc.). En projectes p\u00fablics, pots afegir una nota als teus fitxers font ( // Copyright 2025 - Llic\u00e8ncia MIT ). Per exemple, si jo vull afegir la llic\u00e8ncia MIT al meu projecte d\u2019IntelliJ, genero un fitxer LICENSE.txt a l\u2019arrel i apego el text que acabem de veure: Aix\u00ed, ja tindriem la llic\u00e8ncia establerta. La p\u00e0gina, a m\u00e9s, ofereix m\u00e9s informaci\u00f3; com el tipus de llic\u00e8ncia a escollir en cas que el teu producte no sigui software, qu\u00e8 passa si no utilitzes una llic\u00e8ncia, etc. Hi ha molts requisits a l\u2019hora d\u2019establir segons quina llic\u00e8ncia a segons quin projecte. Cal aprofundir en el tema per tal d\u2019assegurar la validesa de la llic\u00e8ncia que escollim.","title":"Un cop escolida la llic\u00e8ncia"}]}